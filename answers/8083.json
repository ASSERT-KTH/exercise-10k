{
  "prompt": "Write a function that uses a context manager to manage resources",
  "answer": "### Using a Context Manager to Manage Resources\n\nHere's an example of a function that uses a context manager to manage a file resource.\n\n#### Python Code\n\n```python\nfrom contextlib import contextmanager\n\n@contextmanager\ndef managed_file(filename):\n    \"\"\"Context manager for managing a file resource.\"\"\"\n    try:\n        # Open the file in read mode\n        file = open(filename, 'r')\n        # Yield the file to the context\n        yield file\n    except FileNotFoundError:\n        print(f\"File '{filename}' not found.\")\n    except Exception as e:\n        print(f\"An error occurred: {e}\")\n    finally:\n        # Close the file if it was opened successfully\n        if 'file' in locals() and not file.closed:\n            file.close()\n\ndef main():\n    filename = 'example.txt'\n    with managed_file(filename) as file:\n        # Read and print the contents of the file\n        print(file.read())\n\nif __name__ == \"__main__\":\n    main()\n```\n\n#### Explanation\n\n1.  We define a context manager `managed_file` using the `@contextmanager` decorator from the `contextlib` module.\n2.  Inside the context manager, we attempt to open the file specified by the `filename` parameter.\n3.  If the file is opened successfully, we yield it to the context, allowing the caller to use the file within the `with` block.\n4.  We handle potential exceptions, such as `FileNotFoundError`, and print error messages if necessary.\n5.  In the `finally` block, we ensure that the file is closed if it was opened successfully, regardless of whether an exception occurred.\n6.  In the `main` function, we demonstrate how to use the `managed_file` context manager to read and print the contents of a file.\n\n#### Benefits of Using a Context Manager\n\n*   **Ensures Resource Cleanup**: The context manager guarantees that the file is closed after use, even if an exception occurs.\n*   **Simplifies Error Handling**: The context manager handles potential exceptions and provides informative error messages.\n*   **Improves Code Readability**: The `with` statement makes the code more readable and concise, clearly indicating the scope of the file usage.",
  "timestamp": "2026-02-11T23:24:00.267688",
  "model": "RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic"
}