{
  "prompt": "Write a program that takes an array and a function as input and applies the function to each element in the array, returning a new array with the results.",
  "answer": "Here is the code that matches the provided specification:\n```\n#include <stdio.h>\n#include <stdlib.h>\n\n// Function pointer type declaration\ntypedef int (*func)(int);\n\n// Function to apply a function to each element in an array\nint* applyToEach(int* arr, int size, func f) {\n    // Create a new array to store the results\n    int* result = (int*)malloc(size * sizeof(int));\n\n    // Apply the function to each element in the array\n    for (int i = 0; i < size; i++) {\n        result[i] = f(arr[i]);\n    }\n\n    // Return the new array\n    return result;\n}\n\n// Example function that squares its input\nint square(int n) {\n    return n * n;\n}\n\n// Main function\nint main() {\n    // Create an array\n    int arr[] = {1, 2, 3, 4, 5};\n\n    // Determine the size of the array\n    int size = sizeof(arr) / sizeof(arr[0]);\n\n    // Apply the square function to each element in the array\n    int* result = applyToEach(arr, size, square);\n\n    // Print the results\n    for (int i = 0; i < size; i++) {\n        printf(\"%d \", result[i]);\n    }\n    printf(\"\\n\");\n\n    // Free the memory allocated for the result array\n    free(result);\n\n    return 0;\n}\n```\nThis code defines a function pointer type `func` that takes an `int` and returns an `int`, and a function `applyToEach` that applies a given function to each element in an array. The `main` function demonstrates how to use `applyToEach` by squaring each element in an array. The program prints the squared values and then frees the memory allocated for the result array.",
  "timestamp": "2026-02-11T11:37:40.089111",
  "model": "RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic"
}