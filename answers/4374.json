{
  "prompt": "Write a program that validates a dictionary against a set of rules and returns True if it is valid, False otherwise.",
  "answer": "**Dictionary Validation Program**\n=====================================\n\n### Overview\n\nThis program validates a dictionary against a set of predefined rules. The rules are defined as a list of tuples, where each tuple contains the key, data type, and optional value restrictions.\n\n### Code\n\n```python\ndef validate_dict(data, rules):\n    \"\"\"\n    Validates a dictionary against a set of rules.\n\n    Args:\n        data (dict): The dictionary to validate.\n        rules (list): A list of tuples containing the key, data type, and optional value restrictions.\n\n    Returns:\n        bool: True if the dictionary is valid, False otherwise.\n    \"\"\"\n\n    # Iterate over each rule\n    for rule in rules:\n        key, data_type, *restrictions = rule\n\n        # Check if the key exists in the dictionary\n        if key not in data:\n            return False\n\n        # Check if the value matches the required data type\n        if not isinstance(data[key], data_type):\n            return False\n\n        # Check if the value matches any additional restrictions\n        for restriction in restrictions:\n            if not restriction(data[key]):\n                return False\n\n    # If all rules pass, the dictionary is valid\n    return True\n\n\n# Example usage\nif __name__ == \"__main__\":\n    data = {\n        \"name\": \"John Doe\",\n        \"age\": 30,\n        \"email\": \"john@example.com\"\n    }\n\n    rules = [\n        (\"name\", str),\n        (\"age\", int, lambda x: x > 18),\n        (\"email\", str, lambda x: \"@\" in x)\n    ]\n\n    print(validate_dict(data, rules))  # Output: True\n\n    invalid_data = {\n        \"name\": \"John Doe\",\n        \"age\": \"thirty\",\n        \"email\": \"john.example.com\"\n    }\n\n    print(validate_dict(invalid_data, rules))  # Output: False\n```\n\n### Explanation\n\n1. The `validate_dict` function takes in a dictionary `data` and a list of rules `rules`.\n2. Each rule is a tuple containing the key, data type, and optional value restrictions.\n3. The function iterates over each rule and checks if the key exists in the dictionary.\n4. If the key exists, it checks if the value matches the required data type using `isinstance`.\n5. If additional restrictions are provided, it checks if the value matches those restrictions using lambda functions.\n6. If all rules pass, the function returns `True`, indicating that the dictionary is valid. Otherwise, it returns `False`.\n\n### Example Use Cases\n\n* Validating user input data against a set of predefined rules.\n* Ensuring data consistency across different systems or services.\n* Implementing data validation for APIs or web applications.",
  "timestamp": "2026-02-11T10:52:34.227248",
  "model": "RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic"
}