{
  "prompt": "Write a function to find all occurrences of a pattern in a text.",
  "answer": "**Pattern Finder Function**\n==========================\n\n### Description\n\nThe following function finds all occurrences of a pattern in a given text. It uses the KMP (Knuth-Morris-Pratt) algorithm, a linear-time string searching algorithm that uses the observation that when a mismatch occurs, the previously matched characters can be used to skip characters in the text and to shift the pattern along the text.\n\n### Code\n\n```python\ndef compute_prefix_function(pattern):\n    \"\"\"\n    Compute the prefix function used in the KMP algorithm.\n\n    Args:\n    pattern (str): The pattern to search for.\n\n    Returns:\n    list: The prefix function.\n    \"\"\"\n    prefix = [0] * len(pattern)\n    j = 0\n    for i in range(1, len(pattern)):\n        while j > 0 and pattern[j] != pattern[i]:\n            j = prefix[j - 1]\n        if pattern[j] == pattern[i]:\n            j += 1\n        prefix[i] = j\n    return prefix\n\n\ndef find_pattern(text, pattern):\n    \"\"\"\n    Find all occurrences of a pattern in a text.\n\n    Args:\n    text (str): The text to search in.\n    pattern (str): The pattern to search for.\n\n    Returns:\n    list: A list of indices where the pattern occurs.\n    \"\"\"\n    prefix = compute_prefix_function(pattern)\n    occurrences = []\n    j = 0\n    for i in range(len(text)):\n        while j > 0 and text[i] != pattern[j]:\n            j = prefix[j - 1]\n        if text[i] == pattern[j]:\n            j += 1\n        if j == len(pattern):\n            occurrences.append(i - j + 1)\n            j = prefix[j - 1]\n    return occurrences\n\n\n# Example usage\ntext = \"abxabcabcaby\"\npattern = \"abc\"\noccurrences = find_pattern(text, pattern)\nprint(f\"Pattern '{pattern}' found at indices: {occurrences}\")\n```\n\n### Explanation\n\n1. The `compute_prefix_function` function computes the prefix function used in the KMP algorithm. This function is used to skip characters in the text when a mismatch occurs.\n2. The `find_pattern` function uses the KMP algorithm to find all occurrences of the pattern in the text. It iterates over the text and uses the prefix function to shift the pattern along the text when a mismatch occurs.\n3. The function returns a list of indices where the pattern occurs.\n\n### Time Complexity\n\nThe time complexity of the `find_pattern` function is O(n + m), where n is the length of the text and m is the length of the pattern. The `compute_prefix_function` function has a time complexity of O(m).",
  "timestamp": "2026-02-10T15:06:32.201654",
  "model": "RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic"
}