{
  "prompt": "Write a program to search for a pattern in a text using the Knuth-Morris-Pratt algorithm.",
  "answer": "**Knuth-Morris-Pratt Algorithm Implementation**\n==============================================\n\nThe Knuth-Morris-Pratt (KMP) algorithm is a linear-time string searching algorithm that uses the observation that when a mismatch occurs, the previously matched characters can be used to skip characters in the text and to shift the pattern along the text.\n\n**Code**\n------\n\n```python\ndef compute_prefix_function(pattern):\n    \"\"\"\n    Compute the prefix function used in the KMP algorithm.\n\n    The prefix function is a list where the i-th element is the length of the\n    longest proper prefix of the pattern that is also a proper suffix of the\n    pattern up to the i-th character.\n    \"\"\"\n    prefix = [0] * len(pattern)\n    j = 0\n    for i in range(1, len(pattern)):\n        while j > 0 and pattern[j] != pattern[i]:\n            j = prefix[j - 1]\n        if pattern[j] == pattern[i]:\n            j += 1\n        prefix[i] = j\n    return prefix\n\n\ndef kmp_search(text, pattern):\n    \"\"\"\n    Search for a pattern in a text using the KMP algorithm.\n\n    Returns a list of indices where the pattern is found in the text.\n    \"\"\"\n    prefix = compute_prefix_function(pattern)\n    indices = []\n    j = 0\n    for i in range(len(text)):\n        while j > 0 and text[i] != pattern[j]:\n            j = prefix[j - 1]\n        if text[i] == pattern[j]:\n            j += 1\n        if j == len(pattern):\n            indices.append(i - j + 1)\n            j = prefix[j - 1]\n    return indices\n\n\n# Example usage\nif __name__ == \"__main__\":\n    text = \"abcabcabcdabcd\"\n    pattern = \"abcd\"\n    indices = kmp_search(text, pattern)\n    print(f\"Pattern '{pattern}' found at indices: {indices}\")\n```\n\n**Explanation**\n-------------\n\nThe KMP algorithm consists of two main steps:\n\n1.  **Computing the prefix function**: The prefix function is used to skip characters in the text and to shift the pattern along the text when a mismatch occurs. The `compute_prefix_function` function computes this prefix function.\n2.  **Searching for the pattern**: The `kmp_search` function uses the prefix function to search for the pattern in the text. It returns a list of indices where the pattern is found.\n\nThe `kmp_search` function works by iterating through the text and comparing each character with the corresponding character in the pattern. When a mismatch occurs, it uses the prefix function to skip characters in the text and to shift the pattern along the text. When a match is found, it adds the index to the list of indices.\n\n**Time Complexity**\n------------------\n\nThe time complexity of the KMP algorithm is O(n + m), where n is the length of the text and m is the length of the pattern. This is because the algorithm only needs to iterate through the text and the pattern once to find all occurrences of the pattern.\n\n**Space Complexity**\n-------------------\n\nThe space complexity of the KMP algorithm is O(m), where m is the length of the pattern. This is because the algorithm needs to store the prefix function, which has a length of m.",
  "timestamp": "2026-02-11T01:08:06.744668",
  "model": "RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic"
}