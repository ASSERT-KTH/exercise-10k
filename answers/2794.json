{
  "prompt": "Write a program that applies a given function to each element of a given array and returns a new array with the results.",
  "answer": "Here is the code that matches the specifications:\n```\n#include <stdio.h>\n#include <stdlib.h>\n#include <string.h>\n\n// Function pointer type\ntypedef int (*func_t)(int);\n\n// Function to apply a function to each element of an array\nint* apply(int* arr, int size, func_t func, int* new_size) {\n    // Allocate memory for the new array\n    int* new_arr = (int*)malloc(size * sizeof(int));\n    \n    // Apply the function to each element of the original array\n    for (int i = 0; i < size; i++) {\n        new_arr[i] = (*func)(arr[i]);\n    }\n    \n    // Set the new size\n    *new_size = size;\n    \n    return new_arr;\n}\n\n// Example function to multiply an integer by 2\nint double_int(int x) {\n    return x * 2;\n}\n\nint main() {\n    // Original array\n    int arr[] = {1, 2, 3, 4, 5};\n    int size = sizeof(arr) / sizeof(arr[0]);\n    \n    // Apply the function to the array\n    int new_size;\n    int* new_arr = apply(arr, size, double_int, &new_size);\n    \n    // Print the result\n    printf(\"New array: \");\n    for (int i = 0; i < new_size; i++) {\n        printf(\"%d \", new_arr[i]);\n    }\n    printf(\"\\n\");\n    \n    // Free the allocated memory\n    free(new_arr);\n    \n    return 0;\n}\n```\nThis code defines a function `apply` that applies a given function to each element of an array and returns a new array with the results. It also defines an example function `double_int` that multiplies an integer by 2. The `main` function demonstrates how to use the `apply` function by applying the `double_int` function to an array and printing the result. Finally, it frees the allocated memory to prevent memory leaks.",
  "timestamp": "2026-02-11T00:24:26.825741",
  "model": "RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic"
}