{
  "prompt": "Create a function that uses alerting to notify others of issues and errors",
  "answer": "**Alerting Function**\n=======================\n\nBelow is an example of a Python function that uses alerting to notify others of issues and errors. This function utilizes the `smtplib` library to send emails and the `requests` library to send HTTP requests.\n\n```python\nimport smtplib\nfrom email.mime.multipart import MIMEMultipart\nfrom email.mime.text import MIMEText\nimport requests\n\ndef send_alert(notification_type, message, email_recipients=None, webhook_url=None):\n    \"\"\"\n    Sends an alert notification via email or webhook.\n\n    Args:\n    - notification_type (str): The type of notification (e.g., \"error\", \"warning\", \"info\").\n    - message (str): The message to be sent with the notification.\n    - email_recipients (list): A list of email recipients. Defaults to None.\n    - webhook_url (str): The URL of the webhook to send the notification to. Defaults to None.\n    \"\"\"\n\n    # Email configuration\n    email_config = {\n        \"smtp_server\": \"smtp.gmail.com\",\n        \"smtp_port\": 587,\n        \"from_email\": \"your-email@gmail.com\",\n        \"password\": \"your-email-password\"\n    }\n\n    # Send email notification\n    if email_recipients:\n        msg = MIMEMultipart()\n        msg[\"From\"] = email_config[\"from_email\"]\n        msg[\"To\"] = \", \".join(email_recipients)\n        msg[\"Subject\"] = f\"{notification_type.capitalize()} Alert\"\n        msg.attach(MIMEText(message, \"plain\"))\n\n        server = smtplib.SMTP(email_config[\"smtp_server\"], email_config[\"smtp_port\"])\n        server.starttls()\n        server.login(email_config[\"from_email\"], email_config[\"password\"])\n        server.sendmail(email_config[\"from_email\"], email_recipients, msg.as_string())\n        server.quit()\n\n    # Send webhook notification\n    if webhook_url:\n        payload = {\n            \"notification_type\": notification_type,\n            \"message\": message\n        }\n        response = requests.post(webhook_url, json=payload)\n        if response.status_code != 200:\n            print(f\"Failed to send webhook notification: {response.text}\")\n\n# Example usage:\nif __name__ == \"__main__\":\n    send_alert(\n        notification_type=\"error\",\n        message=\"An error occurred in the application.\",\n        email_recipients=[\"recipient1@example.com\", \"recipient2@example.com\"],\n        webhook_url=\"https://example.com/webhook\"\n    )\n```\n\n**Explanation**\n---------------\n\n1. The `send_alert` function takes four parameters: `notification_type`, `message`, `email_recipients`, and `webhook_url`.\n2. The function uses the `smtplib` library to send email notifications to the specified recipients.\n3. The function uses the `requests` library to send HTTP requests to the specified webhook URL.\n4. The email configuration is stored in a dictionary (`email_config`) for easy modification.\n5. The function includes example usage in the `if __name__ == \"__main__\":` block.\n\n**Advice**\n----------\n\n* Replace the `email_config` values with your actual email credentials and settings.\n* Use a secure password and consider using environment variables or a secrets manager to store sensitive information.\n* Test the function with different notification types, messages, and recipients to ensure it works as expected.\n* Consider adding error handling and logging to the function to improve its reliability and debuggability.",
  "timestamp": "2026-02-11T19:53:02.080041",
  "model": "RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic"
}