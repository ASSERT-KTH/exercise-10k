{
  "prompt": "Write a function that calculates the average rating of a list of restaurants.",
  "answer": "### Calculating Average Restaurant Rating\n#### Function Description\n\nThe following function, `calculate_average_rating`, takes a list of dictionaries representing restaurants as input. Each dictionary should contain a 'name' key and a 'rating' key, where 'rating' is a numerical value between 1 and 5. The function returns the average rating of all restaurants in the list.\n\n#### Code\n\n```python\ndef calculate_average_rating(restaurants):\n    \"\"\"\n    Calculate the average rating of a list of restaurants.\n\n    Args:\n    restaurants (list): A list of dictionaries, each containing 'name' and 'rating' keys.\n\n    Returns:\n    float: The average rating of all restaurants in the list.\n\n    Raises:\n    ValueError: If the input list is empty or if a restaurant's rating is not between 1 and 5.\n    \"\"\"\n\n    # Check if the input list is empty\n    if not restaurants:\n        raise ValueError(\"Input list cannot be empty\")\n\n    # Initialize sum of ratings\n    total_rating = 0\n\n    # Iterate over each restaurant in the list\n    for restaurant in restaurants:\n        # Check if the restaurant's rating is valid\n        if not 1 <= restaurant['rating'] <= 5:\n            raise ValueError(\"Restaurant rating must be between 1 and 5\")\n\n        # Add the restaurant's rating to the total\n        total_rating += restaurant['rating']\n\n    # Calculate the average rating\n    average_rating = total_rating / len(restaurants)\n\n    return average_rating\n\n\n# Example usage:\nif __name__ == \"__main__\":\n    restaurants = [\n        {'name': 'Restaurant A', 'rating': 4},\n        {'name': 'Restaurant B', 'rating': 3},\n        {'name': 'Restaurant C', 'rating': 5}\n    ]\n\n    try:\n        average = calculate_average_rating(restaurants)\n        print(f\"Average rating: {average:.2f}\")\n    except ValueError as e:\n        print(f\"Error: {e}\")\n```\n\n#### Explanation\n\n1. The function first checks if the input list is empty. If it is, a `ValueError` is raised.\n2. It then initializes a variable `total_rating` to store the sum of all restaurant ratings.\n3. The function iterates over each restaurant in the list, checking if the rating is between 1 and 5. If a rating is invalid, a `ValueError` is raised.\n4. The rating of each restaurant is added to `total_rating`.\n5. After iterating over all restaurants, the average rating is calculated by dividing `total_rating` by the number of restaurants.\n6. The average rating is returned as a float.\n7. In the example usage, a list of restaurants is created, and the `calculate_average_rating` function is called with this list. The average rating is then printed to the console.",
  "timestamp": "2026-02-11T19:26:59.834217",
  "model": "RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic"
}