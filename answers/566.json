{
  "prompt": "Write a function that implements a Caesar cipher, which shifts each letter in the input string by a specified number of positions.",
  "answer": "**Caesar Cipher Implementation**\n=====================================\n\n### Overview\n\nThe Caesar cipher is a type of substitution cipher where each letter in the plaintext is 'shifted' a certain number of places down the alphabet. This function implements a Caesar cipher that shifts each letter in the input string by a specified number of positions.\n\n### Code\n```python\ndef caesar_cipher(text: str, shift: int, direction: str = 'encrypt') -> str:\n    \"\"\"\n    Implements a Caesar cipher to shift each letter in the input string by a specified number of positions.\n\n    Args:\n    - text (str): The input string to be encrypted or decrypted.\n    - shift (int): The number of positions to shift each letter.\n    - direction (str, optional): The direction of the shift. Defaults to 'encrypt'. Use 'decrypt' to reverse the shift.\n\n    Returns:\n    - str: The encrypted or decrypted string.\n    \"\"\"\n    alphabet = 'abcdefghijklmnopqrstuvwxyz'\n    result = ''\n\n    for char in text:\n        if char.isalpha():\n            # Find the position of the character in the alphabet\n            position = alphabet.index(char.lower())\n            \n            # Apply the shift\n            if direction == 'encrypt':\n                new_position = (position + shift) % 26\n            elif direction == 'decrypt':\n                new_position = (position - shift) % 26\n            \n            # Convert the new position back to a character\n            new_char = alphabet[new_position]\n            \n            # Preserve the original case\n            if char.isupper():\n                new_char = new_char.upper()\n            \n            result += new_char\n        else:\n            # Non-alphabetic characters are not shifted\n            result += char\n    \n    return result\n\n# Example usage:\nif __name__ == '__main__':\n    text = \"Hello, World!\"\n    shift = 3\n    \n    encrypted = caesar_cipher(text, shift)\n    decrypted = caesar_cipher(encrypted, shift, direction='decrypt')\n    \n    print(f\"Original text: {text}\")\n    print(f\"Encrypted text: {encrypted}\")\n    print(f\"Decrypted text: {decrypted}\")\n```\n\n### Explanation\n\n1. The function `caesar_cipher` takes three parameters: `text` (the input string), `shift` (the number of positions to shift), and `direction` (the direction of the shift, either 'encrypt' or 'decrypt').\n2. The function iterates over each character in the input string.\n3. If the character is a letter, it finds the position of the character in the alphabet, applies the shift, and converts the new position back to a character.\n4. Non-alphabetic characters are not shifted and are added to the result as is.\n5. The function preserves the original case of the characters.\n6. The example usage demonstrates how to use the function to encrypt and decrypt a string.",
  "timestamp": "2026-02-10T15:13:49.504437",
  "model": "RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic"
}