{
  "prompt": "Write a function that uses monitoring to track its performance and health",
  "answer": "**Monitoring Function Performance and Health**\n==============================================\n\nBelow is an example of a Python function that utilizes monitoring to track its performance and health. This example uses the `time` and `logging` modules to measure execution time and log any errors or exceptions that may occur.\n\n```python\nimport time\nimport logging\nimport functools\n\n# Set up logging\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\ndef monitor_performance(func):\n    \"\"\"\n    Decorator to monitor function performance and health.\n    \"\"\"\n    @functools.wraps(func)\n    def wrapper(*args, **kwargs):\n        start_time = time.time()\n        try:\n            result = func(*args, **kwargs)\n            end_time = time.time()\n            execution_time = end_time - start_time\n            logger.info(f\"Function '{func.__name__}' executed successfully in {execution_time:.2f} seconds\")\n            return result\n        except Exception as e:\n            end_time = time.time()\n            execution_time = end_time - start_time\n            logger.error(f\"Function '{func.__name__}' failed with error: {str(e)}\")\n            logger.error(f\"Function '{func.__name__}' execution time: {execution_time:.2f} seconds\")\n            raise\n    return wrapper\n\n# Example usage:\n@monitor_performance\ndef example_function():\n    \"\"\"\n    Example function to demonstrate monitoring.\n    \"\"\"\n    time.sleep(1)  # Simulate some work\n    return \"Function executed successfully\"\n\nif __name__ == \"__main__\":\n    result = example_function()\n    logger.info(f\"Result: {result}\")\n```\n\n**How it Works**\n-----------------\n\n1. The `monitor_performance` decorator is applied to the `example_function` to track its performance and health.\n2. The decorator measures the execution time of the function and logs it along with any errors or exceptions that may occur.\n3. The `logging` module is used to log messages at different levels (e.g., INFO, ERROR).\n4. The `functools.wraps` decorator is used to preserve the original function's metadata (e.g., name, docstring).\n\n**Benefits**\n------------\n\n1. **Improved visibility**: The monitoring decorator provides visibility into the function's performance and health.\n2. **Error detection**: The decorator logs any errors or exceptions that may occur, making it easier to detect and diagnose issues.\n3. **Performance optimization**: By tracking execution time, you can identify performance bottlenecks and optimize the function accordingly.",
  "timestamp": "2026-02-11T19:52:38.853702",
  "model": "RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic"
}