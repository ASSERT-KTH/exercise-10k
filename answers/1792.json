{
  "prompt": "Write a function to flatten a nested dictionary and return a new dictionary containing all key-value pairs at the top level.",
  "answer": "### Flattening a Nested Dictionary\n#### Function Overview\n\nThe following Python function takes a nested dictionary as input, recursively traverses it, and returns a new dictionary containing all key-value pairs at the top level.\n\n#### Code\n```python\ndef flatten_dict(nested_dict, prefix=''):\n    \"\"\"\n    Flattens a nested dictionary and returns a new dictionary containing all key-value pairs at the top level.\n\n    Args:\n    - nested_dict (dict): The dictionary to be flattened.\n    - prefix (str): Optional prefix for the flattened dictionary keys. Defaults to an empty string.\n\n    Returns:\n    - dict: A new dictionary containing all key-value pairs at the top level.\n    \"\"\"\n    flattened_dict = {}\n    for key, value in nested_dict.items():\n        new_key = f\"{prefix}{key}\" if not prefix else f\"{prefix}.{key}\"\n        if isinstance(value, dict):\n            # Recursively flatten nested dictionaries\n            flattened_dict.update(flatten_dict(value, new_key))\n        else:\n            # Add key-value pairs to the flattened dictionary\n            flattened_dict[new_key] = value\n    return flattened_dict\n\n# Example usage:\nif __name__ == \"__main__\":\n    nested_dict = {\n        \"a\": 1,\n        \"b\": 2,\n        \"c\": {\n            \"d\": 3,\n            \"e\": 4,\n            \"f\": {\n                \"g\": 5,\n                \"h\": 6\n            }\n        }\n    }\n\n    flattened_dict = flatten_dict(nested_dict)\n    print(flattened_dict)\n```\n\n#### Explanation\n\n*   The `flatten_dict` function takes a nested dictionary (`nested_dict`) and an optional prefix as input.\n*   It iterates through each key-value pair in the dictionary. If the value is another dictionary, it recursively calls `flatten_dict` with the new prefix and updates the `flattened_dict`.\n*   If the value is not a dictionary, it adds the key-value pair to the `flattened_dict`.\n*   The function returns the `flattened_dict` containing all key-value pairs at the top level.\n\n#### Output\n```markdown\n{\n    'a': 1, \n    'b': 2, \n    'c.d': 3, \n    'c.e': 4, \n    'c.f.g': 5, \n    'c.f.h': 6\n}\n```",
  "timestamp": "2026-02-10T20:12:21.478443",
  "model": "RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic"
}