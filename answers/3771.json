{
  "prompt": "Validate a dictionary based on a set of rules.",
  "answer": "Validating a Dictionary Based on a Set of Rules\n======================================================\n\nBelow is a Python solution that utilizes a class-based approach to validate a dictionary against a set of predefined rules.\n\n### Validation Rules\n\nFor this example, we'll consider the following validation rules:\n\n*   `required`: The key must be present in the dictionary.\n*   `type`: The value associated with the key must be of the specified type (e.g., `str`, `int`, `float`, etc.).\n*   `min_length` and `max_length`: The length of the value associated with the key must fall within the specified range (applicable for strings).\n*   `min_value` and `max_value`: The value associated with the key must fall within the specified range (applicable for numbers).\n\n### Implementation\n\n```python\nfrom typing import Any, Dict\n\nclass Validator:\n    def __init__(self, rules: Dict[str, Dict[str, Any]]):\n        \"\"\"\n        Initialize the Validator with a set of rules.\n\n        Args:\n        rules (Dict[str, Dict[str, Any]]): A dictionary containing validation rules.\n        \"\"\"\n        self.rules = rules\n\n    def validate(self, data: Dict[str, Any]) -> bool:\n        \"\"\"\n        Validate the provided data against the defined rules.\n\n        Args:\n        data (Dict[str, Any]): The dictionary to be validated.\n\n        Returns:\n        bool: True if the data is valid, False otherwise.\n        \"\"\"\n        for key, rule in self.rules.items():\n            # Check if the key is required\n            if \"required\" in rule and key not in data:\n                return False\n\n            # Check if the key exists in the data\n            if key not in data:\n                continue\n\n            # Check the type of the value\n            if \"type\" in rule and not isinstance(data[key], rule[\"type\"]):\n                return False\n\n            # Check the length of the value (if applicable)\n            if \"type\" in rule and rule[\"type\"] == str:\n                if \"min_length\" in rule and len(data[key]) < rule[\"min_length\"]:\n                    return False\n                if \"max_length\" in rule and len(data[key]) > rule[\"max_length\"]:\n                    return False\n\n            # Check the value range (if applicable)\n            if \"type\" in rule and rule[\"type\"] in [int, float]:\n                if \"min_value\" in rule and data[key] < rule[\"min_value\"]:\n                    return False\n                if \"max_value\" in rule and data[key] > rule[\"max_value\"]:\n                    return False\n\n        return True\n\n\n# Example usage:\nif __name__ == \"__main__\":\n    rules = {\n        \"name\": {\"required\": True, \"type\": str, \"min_length\": 3, \"max_length\": 50},\n        \"age\": {\"required\": True, \"type\": int, \"min_value\": 18, \"max_value\": 100},\n        \"email\": {\"required\": True, \"type\": str, \"min_length\": 5, \"max_length\": 100},\n    }\n\n    validator = Validator(rules)\n\n    # Valid data\n    valid_data = {\n        \"name\": \"John Doe\",\n        \"age\": 30,\n        \"email\": \"john@example.com\",\n    }\n    print(validator.validate(valid_data))  # Output: True\n\n    # Invalid data (missing required key)\n    invalid_data_1 = {\n        \"name\": \"John Doe\",\n        \"email\": \"john@example.com\",\n    }\n    print(validator.validate(invalid_data_1))  # Output: False\n\n    # Invalid data (invalid type)\n    invalid_data_2 = {\n        \"name\": \"John Doe\",\n        \"age\": \"thirty\",\n        \"email\": \"john@example.com\",\n    }\n    print(validator.validate(invalid_data_2))  # Output: False\n\n    # Invalid data (value out of range)\n    invalid_data_3 = {\n        \"name\": \"John Doe\",\n        \"age\": 150,\n        \"email\": \"john@example.com\",\n    }\n    print(validator.validate(invalid_data_3))  # Output: False\n```\n\n### Explanation\n\n*   The `Validator` class takes a dictionary of rules as input, where each key represents a field in the data, and the corresponding value is another dictionary containing the validation rules for that field.\n*   The `validate` method checks the provided data against the defined rules. It iterates over each field in the rules dictionary and applies the corresponding validation checks.\n*   The validation checks include verifying the presence of required fields, ensuring the correct data type, and checking the length or value range (if applicable).\n*   If any validation check fails, the `validate` method immediately returns `False`. If all checks pass, it returns `True`, indicating that the data is valid according to the defined rules.",
  "timestamp": "2026-02-11T08:21:16.827558",
  "model": "RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic"
}