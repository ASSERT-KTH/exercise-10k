{
  "prompt": "Create a function that takes two functions as arguments and returns their composition",
  "answer": "### Function Composition\n#### Overview\nFunction composition is the process of combining two or more functions to produce a new function. The composition of two functions `f` and `g` is denoted as `(f \u2218 g)(x)` and is defined as `f(g(x))`.\n\n#### Implementation\nHere is a Python function that takes two functions as arguments and returns their composition:\n```python\ndef compose(f, g):\n    \"\"\"\n    Returns the composition of two functions.\n\n    Args:\n        f (function): The outer function.\n        g (function): The inner function.\n\n    Returns:\n        function: The composition of f and g.\n    \"\"\"\n    def h(x):\n        return f(g(x))\n    return h\n\n# Example usage:\ndef double(x):\n    return 2 * x\n\ndef add_one(x):\n    return x + 1\n\n# Create a new function that doubles and then adds one\ndouble_and_add_one = compose(add_one, double)\n\nprint(double_and_add_one(5))  # Output: 11\n```\nIn this example, the `compose` function takes two functions `f` and `g` as arguments and returns a new function `h` that is the composition of `f` and `g`. The `double_and_add_one` function is created by composing the `add_one` and `double` functions.\n\n#### Using a Lambda Function\nAlternatively, you can use a lambda function to define the composition:\n```python\ndef compose(f, g):\n    return lambda x: f(g(x))\n\n# Example usage:\ndouble = lambda x: 2 * x\nadd_one = lambda x: x + 1\n\ndouble_and_add_one = compose(add_one, double)\nprint(double_and_add_one(5))  # Output: 11\n```\nThis implementation is more concise and uses a lambda function to define the composition.\n\n#### Using the `functools` Module\nYou can also use the `reduce` function from the `functools` module to compose multiple functions:\n```python\nimport functools\n\ndef compose(*funcs):\n    return functools.reduce(lambda f, g: lambda x: f(g(x)), funcs)\n\n# Example usage:\ndouble = lambda x: 2 * x\nadd_one = lambda x: x + 1\ntriple = lambda x: 3 * x\n\ndouble_add_one_triple = compose(triple, add_one, double)\nprint(double_add_one_triple(5))  # Output: 33\n```\nThis implementation uses the `reduce` function to compose multiple functions. The `*funcs` syntax allows you to pass a variable number of functions as arguments.",
  "timestamp": "2026-02-11T20:25:54.757720",
  "model": "RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic"
}