{
  "prompt": "Write a function that uses the socket module to establish a TCP connection and send/receive data.",
  "answer": "Here's a simple example of a client-server architecture using the socket module in Python.\n\n**Server Side (server.py)**\n```python\nimport socket\n\ndef start_server():\n    # Create a socket object\n    server_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n\n    # Define the server address and port\n    server_address = ('localhost', 12345)\n\n    # Bind the socket to the server address and port\n    server_socket.bind(server_address)\n\n    # Listen for incoming connections\n    server_socket.listen(1)\n\n    print(f\"Server listening on {server_address[0]}:{server_address[1]}\")\n\n    while True:\n        # Wait for a connection\n        print(\"Waiting for a connection...\")\n        connection, client_address = server_socket.accept()\n        print(f\"Connection from {client_address}\")\n\n        # Receive data from the client\n        while True:\n            data = connection.recv(1024)\n            if not data:\n                break\n            print(f\"Received from client: {data.decode()}\")\n\n            # Send response back to the client\n            response = f\"Server received: {data.decode()}\"\n            connection.sendall(response.encode())\n\n        # Close the connection\n        connection.close()\n\nif __name__ == \"__main__\":\n    start_server()\n```\n\n**Client Side (client.py)**\n```python\nimport socket\n\ndef start_client():\n    # Create a socket object\n    client_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n\n    # Define the server address and port\n    server_address = ('localhost', 12345)\n\n    # Connect to the server\n    client_socket.connect(server_address)\n\n    print(f\"Connected to {server_address[0]}:{server_address[1]}\")\n\n    # Send data to the server\n    while True:\n        message = input(\"Enter message to send to the server (or 'quit' to exit): \")\n        if message.lower() == 'quit':\n            break\n        client_socket.sendall(message.encode())\n\n        # Receive response from the server\n        response = client_socket.recv(1024)\n        print(f\"Received from server: {response.decode()}\")\n\n    # Close the connection\n    client_socket.close()\n\nif __name__ == \"__main__\":\n    start_client()\n```\n\n**How it works:**\n\n1. The server creates a socket object, binds it to a specific address and port, and listens for incoming connections.\n2. The client creates a socket object and connects to the server using the server's address and port.\n3. The client sends data to the server using the `sendall()` method.\n4. The server receives the data using the `recv()` method, processes it, and sends a response back to the client.\n5. The client receives the response from the server and prints it to the console.\n6. The client and server can continue to exchange data until the client chooses to quit.\n\n**Example Use Case:**\n\n1. Run the server script (`python server.py`) in one terminal window.\n2. Run the client script (`python client.py`) in another terminal window.\n3. In the client terminal, enter a message to send to the server (e.g., \"Hello, server!\").\n4. The server will receive the message, process it, and send a response back to the client (e.g., \"Server received: Hello, server!\").\n5. The client will receive the response from the server and print it to the console.\n6. Continue exchanging data between the client and server until you choose to quit.",
  "timestamp": "2026-02-12T09:39:53.064048",
  "model": "RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic"
}