{
  "prompt": "Create a function that takes in a dictionary and returns a new dictionary containing the same key-value pairs, but with the values grouped by a common key",
  "answer": "### Grouping Dictionary Values by a Common Key\n\nHere's a Python function that groups dictionary values by a common key. This function assumes that the input dictionary has a nested dictionary as its values, and the common key is a key within these nested dictionaries.\n\n#### Code\n\n```python\ndef group_dict_values(input_dict, common_key):\n    \"\"\"\n    This function groups dictionary values by a common key.\n    \n    Args:\n        input_dict (dict): The input dictionary.\n        common_key (str): The common key to group by.\n    \n    Returns:\n        dict: A new dictionary with values grouped by the common key.\n    \"\"\"\n    # Initialize an empty dictionary to store the grouped values\n    grouped_dict = {}\n    \n    # Iterate over the key-value pairs in the input dictionary\n    for key, value in input_dict.items():\n        # Check if the value is a dictionary and has the common key\n        if isinstance(value, dict) and common_key in value:\n            # Get the value of the common key\n            common_value = value[common_key]\n            \n            # If the common value is not already a key in the grouped dictionary, add it\n            if common_value not in grouped_dict:\n                grouped_dict[common_value] = []\n            \n            # Append the key-value pair to the list of values for the common key\n            grouped_dict[common_value].append({key: value})\n    \n    return grouped_dict\n\n# Example usage\ninput_dict = {\n    'item1': {'category': 'A', 'price': 10},\n    'item2': {'category': 'B', 'price': 20},\n    'item3': {'category': 'A', 'price': 30},\n    'item4': {'category': 'B', 'price': 40}\n}\n\ncommon_key = 'category'\n\ngrouped_dict = group_dict_values(input_dict, common_key)\n\nprint(grouped_dict)\n```\n\n#### Output\n\n```markdown\n{\n    'A': [\n        {'item1': {'category': 'A', 'price': 10}}, \n        {'item3': {'category': 'A', 'price': 30}}\n    ], \n    'B': [\n        {'item2': {'category': 'B', 'price': 20}}, \n        {'item4': {'category': 'B', 'price': 40}}\n    ]\n}\n```\n\n#### Explanation\n\n1. Initialize an empty dictionary `grouped_dict` to store the grouped values.\n2. Iterate over the key-value pairs in the input dictionary `input_dict`.\n3. For each value, check if it is a dictionary and has the common key `common_key`.\n4. If the value has the common key, get its value and use it as a key in the `grouped_dict`.\n5. If the common key is not already in the `grouped_dict`, add it with an empty list as its value.\n6. Append the key-value pair to the list of values for the common key.\n7. Return the `grouped_dict` with the grouped values.\n\nThis function provides a flexible way to group dictionary values by a common key, allowing you to reorganize your data as needed.",
  "timestamp": "2026-02-10T13:33:59.717170",
  "model": "RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic"
}