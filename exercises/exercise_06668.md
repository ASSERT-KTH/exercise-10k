## Exercise
Write a program to calculate the tax on an income

## Reference Solution
```python
def calculate_tax(income, tax_rate):
    """
    Calculates the tax on an income.

    Args:
        income (float): The income amount.
        tax_rate (float): The tax rate as a decimal (e.g. 20% = 0.20).

    Returns:
        float: The calculated tax amount.
    """
    tax = income * tax_rate
    return tax

def main():
    print("Tax Calculator Program")
    print("------------------------")

    # Get income from user
    while True:
        try:
            income = float(input("Enter your income: $"))
            if income < 0:
                print("Income cannot be negative.")
            else:
                break
        except ValueError:
            print("Invalid input. Please enter a number.")

    # Get tax rate from user
    while True:
        try:
            tax_rate = float(input("Enter the tax rate (as a percentage, e.g. 20 for 20%): "))
            if tax_rate < 0 or tax_rate > 100:
                print("Tax rate must be between 0 and 100.")
            else:
                tax_rate = tax_rate / 100  # Convert to decimal
                break
        except ValueError:
            print("Invalid input. Please enter a number.")

    # Calculate tax
    tax = calculate_tax(income, tax_rate)

    # Print results
    print(f"Your income: ${income:.2f}")
    print(f"Tax rate: {tax_rate * 100}%")
    print(f"Calculated tax: ${tax:.2f}")
    print(f"Net income (after tax): ${income - tax:.2f}")

if __name__ == "__main__":
    main()
```

## Generated Output
```
Tax Calculator Program
------------------------
Enter your income: $Invalid input. Please enter a number.
Enter your income: $
Traceback (most recent call last):
  File "/tmp/tmpu3cvq4ny.py", line 52, in <module>
    main()
  File "/tmp/tmpu3cvq4ny.py", line 22, in main
    income = float(input("Enter your income: $"))
EOFError: EOF when reading a line
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
