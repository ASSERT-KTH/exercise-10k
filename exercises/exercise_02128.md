## Exercise
Write a function that takes a list and a new element as input and inserts the new element at a specified index.

## Reference Solution
```python
def insert_element(lst, new_element, index):
    """
    Inserts a new element at a specified index in a list.

    Args:
        lst (list): The input list.
        new_element: The new element to be inserted.
        index (int): The index where the new element will be inserted.

    Returns:
        list: The updated list with the new element inserted.
    """

    # First, we need to check if the index is within the bounds of the list.
    # If the index is greater than the length of the list, we append the new element to the end of the list.
    if index > len(lst):
        # Append the new element to the end of the list.
        lst.append(new_element)
    else:
        # If the index is within the bounds of the list, we use list slicing to insert the new element.
        # We slice the list into two parts at the specified index and concatenate them with the new element in between.
        # This will effectively insert the new element at the specified index.
        lst = lst[:index] + [new_element] + lst[index:]

    # Finally, we return the updated list.
    return lst

# Example usage:
my_list = [1, 2, 3, 4, 5]
new_element = 6
index = 2

updated_list = insert_element(my_list, new_element, index)
print(updated_list)  # Output: [1, 2, 6, 3, 4, 5]
```

## Generated Output
```
[1, 2, 6, 3, 4, 5]
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
