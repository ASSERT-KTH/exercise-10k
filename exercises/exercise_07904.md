## Exercise
Create a program that performs basic arithmetic operations like addition, subtraction, multiplication, and division based on user input. The program should take two numbers and an operation as input and produce the result.

## Reference Solution
```python
def arithmetic_operations():
    """
    Performs basic arithmetic operations like addition, subtraction, multiplication, and division based on user input.
    """
    
    # Get user input for the first number
    while True:
        try:
            num1 = float(input("Enter the first number: "))
            break
        except ValueError:
            print("Invalid input. Please enter a valid number.")
            
    # Get user input for the operation
    while True:
        operation = input("Enter the operation (+, -, *, /): ")
        if operation in ['+', '-', '*', '/']:
            break
        else:
            print("Invalid operation. Please enter one of the following: +, -, *, /")
            
    # Get user input for the second number
    while True:
        try:
            num2 = float(input("Enter the second number: "))
            if operation == '/' and num2 == 0:
                print("Cannot divide by zero. Please enter a non-zero number.")
            else:
                break
        except ValueError:
            print("Invalid input. Please enter a valid number.")
            
    # Perform the operation
    if operation == '+':
        result = num1 + num2
    elif operation == '-':
        result = num1 - num2
    elif operation == '*':
        result = num1 * num2
    elif operation == '/':
        result = num1 / num2
        
    # Print the result
    print(f"{num1} {operation} {num2} = {result}")

# Example usage:
if __name__ == "__main__":
    arithmetic_operations()
```

## Generated Output
```
Enter the first number: Invalid input. Please enter a valid number.
Enter the first number: 
Traceback (most recent call last):
  File "/tmp/tmpdcij08yy.py", line 48, in <module>
    arithmetic_operations()
  File "/tmp/tmpdcij08yy.py", line 9, in arithmetic_operations
    num1 = float(input("Enter the first number: "))
EOFError: EOF when reading a line
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
