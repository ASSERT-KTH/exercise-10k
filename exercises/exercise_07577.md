## Exercise
Create a function that uses localization to provide support for multiple languages or regions.

## Reference Solution
```python
import gettext

# Define the languages and their corresponding translation files
LANGUAGES = {
    'en': 'english',
    'fr': 'french',
    'es': 'spanish'
}

def get_translation(language):
    """
    Returns a translation function for the given language.

    Args:
        language (str): The language code (e.g. 'en', 'fr', 'es')

    Returns:
        function: A translation function for the given language
    """
    # Set the locale to the given language
    gettext.bindtextdomain('myapp', './locales')
    gettext.textdomain('myapp')
    language_code = LANGUAGES.get(language, 'en')
    translation = gettext.translation('myapp', localedir='./locales', languages=[language_code])

    # Return the translation function
    return translation.gettext

# Example usage
if __name__ == '__main__':
    # Get the translation function for English
    en_translation = get_translation('en')

    # Translate a message
    print(en_translation('Hello, world!'))  # Output: Hello, world!

    # Get the translation function for French
    fr_translation = get_translation('fr')

    # Translate a message
    print(fr_translation('Hello, world!'))  # Output: Bonjour, monde!
```

```python
xgettext -d myapp -o ./locales/english.po
```

## Generated Output
```
Traceback (most recent call last):
  File "/tmp/tmpvou6ifat.py", line 32, in <module>
    en_translation = get_translation('en')
  File "/tmp/tmpvou6ifat.py", line 24, in get_translation
    translation = gettext.translation('myapp', localedir='./locales', languages=[language_code])
  File "/opt/conda/lib/python3.10/gettext.py", line 592, in translation
    raise FileNotFoundError(ENOENT,
FileNotFoundError: [Errno 2] No translation file found for domain: 'myapp'
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
