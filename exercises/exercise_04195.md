## Exercise
Create a function that calculates the user's tax based on their income and tax bracket.

## Reference Solution
```python
def calculate_tax(income, tax_bracket):
    """
    Calculate the user's tax based on their income and tax bracket.

    Args:
        income (float): The user's income.
        tax_bracket (dict): A dictionary containing the tax brackets and corresponding tax rates.

    Returns:
        float: The calculated tax.

    Example:
        tax_bracket = {
            "single": {
                (0, 9950): 0.10,
                (9951, 40525): 0.12,
                (40526, 86375): 0.22,
                (86376, 164925): 0.24,
                (164926, 209425): 0.32,
                (209426, 523600): 0.35,
                (523601, float('inf')): 0.37
            },
            "joint": {
                (0, 19800): 0.10,
                (19801, 81050): 0.12,
                (81051, 172750): 0.22,
                (172751, 329850): 0.24,
                (329851, 418400): 0.32,
                (418401, 622050): 0.35,
                (622051, float('inf')): 0.37
            }
        }
    """

    # Initialize tax to 0
    tax = 0

    # Get the tax rates for the given filing status
    tax_rates = tax_bracket["single"]  # Default to single filing status

    # Check if the filing status is joint
    if "joint" in tax_bracket:
        tax_rates = tax_bracket["joint"]

    # Iterate over the tax brackets
    for bracket, rate in tax_rates.items():
        # Check if the income is within the current bracket
        if income > bracket[1]:
            # Calculate the tax for the current bracket
            tax += (bracket[1] - bracket[0]) * rate
        elif income > bracket[0]:
            # Calculate the tax for the current bracket
            tax += (income - bracket[0]) * rate
            # Break out of the loop since we've reached the user's income
            break

    return tax


# Example usage:
tax_bracket = {
    "single": {
        (0, 9950): 0.10,
        (9951, 40525): 0.12,
        (40526, 86375): 0.22,
        (86376, 164925): 0.24,
        (164926, 209425): 0.32,
        (209426, 523600): 0.35,
        (523601, float('inf')): 0.37
    },
    "joint": {
        (0, 19800): 0.10,
        (19801, 81050): 0.12,
        (81051, 172750): 0.22,
        (172751, 329850): 0.24,
        (329851, 418400): 0.32,
        (418401, 622050): 0.35,
        (622051, float('inf')): 0.37
    }
}

income = 50000
tax = calculate_tax(income, tax_bracket)
print(f"Tax for an income of ${income}: ${tax:.2f}")
```

## Generated Output
```
Tax for an income of $50000: $5603.88
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
