## Exercise
Create a function that takes a dictionary where keys are student names and values are their corresponding grades. The function should calculate the average grade and then return a new dictionary with the student names as keys and their grades along with a message indicating whether they passed or failed based on a threshold of 50. If the grade is above or equal to 50, the message should be 'Passed', otherwise it should be 'Failed'

## Reference Solution
```python
def calculate_average_grade(grades_dict):
    """
    This function calculates the average grade of students and returns a new dictionary 
    with the student names as keys and their grades along with a message indicating whether 
    they passed or failed based on a threshold of 50.

    Args:
        grades_dict (dict): A dictionary where keys are student names and values are their corresponding grades.

    Returns:
        dict: A dictionary with the student names as keys and their grades along with a message indicating whether they passed or failed.
    """

    # First, we check if the input dictionary is empty
    if not grades_dict:
        return {}

    # Then, we initialize an empty dictionary to store the results
    result_dict = {}

    # We also initialize a variable to store the sum of all grades
    total_grades = 0

    # Then, we iterate over each student and their grade in the input dictionary
    for student, grade in grades_dict.items():
        # For each student, we add their grade to the total sum of grades
        total_grades += grade

        # We then check if the grade is above or equal to 50
        if grade >= 50:
            # If it is, we append 'Passed' to the result dictionary
            result_dict[student] = {'Grade': grade, 'Status': 'Passed'}
        else:
            # If not, we append 'Failed' to the result dictionary
            result_dict[student] = {'Grade': grade, 'Status': 'Failed'}

    # After iterating over all students, we calculate the average grade
    average_grade = total_grades / len(grades_dict)

    # We print the average grade
    print(f"The average grade is: {average_grade}")

    # Finally, we return the result dictionary
    return result_dict

# Example usage:
grades = {
    'John': 60,
    'Alice': 40,
    'Bob': 70,
    'Eve': 30
}

result = calculate_average_grade(grades)
print(result)
```

## Generated Output
```
The average grade is: 50.0
{'John': {'Grade': 60, 'Status': 'Passed'}, 'Alice': {'Grade': 40, 'Status': 'Failed'}, 'Bob': {'Grade': 70, 'Status': 'Passed'}, 'Eve': {'Grade': 30, 'Status': 'Failed'}}
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
