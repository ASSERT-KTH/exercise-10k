## Exercise
Write a program that generates all combinations of a given array.

## Reference Solution
```python
import itertools

def generate_combinations(array, r=None):
    """
    Generate all combinations of a given array.

    Args:
        array (list): The input array.
        r (int, optional): The length of the combinations. Defaults to None, which means all possible lengths will be used.

    Returns:
        list: A list of all combinations.
    """
    if r is None:
        combinations = []
        for i in range(1, len(array) + 1):
            combinations.extend(itertools.combinations(array, i))
    else:
        combinations = list(itertools.combinations(array, r))
    return combinations

def main():
    # Example usage
    array = [1, 2, 3]
    print("All combinations:")
    for combination in generate_combinations(array):
        print(combination)

    print("\nCombinations of length 2:")
    for combination in generate_combinations(array, 2):
        print(combination)

if __name__ == "__main__":
    main()
```

## Generated Output
```
All combinations:
(1,)
(2,)
(3,)
(1, 2)
(1, 3)
(2, 3)
(1, 2, 3)

Combinations of length 2:
(1, 2)
(1, 3)
(2, 3)
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
