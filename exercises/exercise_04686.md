## Exercise
Create a function that implements a Caesar cipher, shifting each letter in the input string by a specified number of positions.

## Reference Solution
```python
def caesar_cipher(text: str, shift: int, direction: str = 'encode') -> str:
    """
    Shifts each letter in the input string by a specified number of positions.

    Args:
        text (str): The input string to be encoded or decoded.
        shift (int): The number of positions to shift each letter.
        direction (str, optional): The direction of the shift. Defaults to 'encode'.

    Returns:
        str: The encoded or decoded string.
    """

    # Define the alphabet
    alphabet = 'abcdefghijklmnopqrstuvwxyz'

    # Initialize the result string
    result = ''

    # Iterate over each character in the input string
    for char in text:
        # Check if the character is a letter
        if char.isalpha():
            # Find the index of the character in the alphabet
            index = alphabet.index(char.lower())

            # Shift the index based on the direction
            if direction == 'encode':
                new_index = (index + shift) % 26
            elif direction == 'decode':
                new_index = (index - shift) % 26
            else:
                raise ValueError("Invalid direction. Use 'encode' or 'decode'.")

            # Add the shifted character to the result string, preserving the original case
            if char.isupper():
                result += alphabet[new_index].upper()
            else:
                result += alphabet[new_index]
        else:
            # If the character is not a letter, add it to the result string as is
            result += char

    return result


# Example usage:
if __name__ == "__main__":
    text = "Hello, World!"
    shift = 3

    encoded_text = caesar_cipher(text, shift)
    decoded_text = caesar_cipher(encoded_text, shift, direction='decode')

    print(f"Original text: {text}")
    print(f"Encoded text: {encoded_text}")
    print(f"Decoded text: {decoded_text}")
```

## Generated Output
```
Execution failed: 'list' object has no attribute 'encode'
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
