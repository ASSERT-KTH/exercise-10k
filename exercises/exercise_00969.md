## Exercise
Given a dictionary, write a function to sort its key-value pairs by key or value and return a new dictionary with the sorted pairs.

## Reference Solution
```python
def sort_dict(input_dict, sort_by='key'):
    """
    Sorts a dictionary by key or value.

    Args:
        input_dict (dict): The dictionary to be sorted.
        sort_by (str, optional): 'key' or 'value'. Defaults to 'key'.

    Returns:
        dict: A new dictionary with the sorted key-value pairs.
    """

    # First, we check if the input is indeed a dictionary
    if not isinstance(input_dict, dict):
        raise TypeError("Input must be a dictionary")

    # Then, we check if the sort_by parameter is either 'key' or 'value'
    if sort_by not in ['key', 'value']:
        raise ValueError("sort_by must be either 'key' or 'value'")

    # If sort_by is 'key', we use the built-in sorted function to sort the dictionary items by key
    if sort_by == 'key':
        # The sorted function returns a list of tuples, so we use the dict constructor to convert it back to a dictionary
        # We also use the lambda function as the key to specify that we want to sort by the first element of each tuple (i.e., the key)
        sorted_dict = dict(sorted(input_dict.items(), key=lambda item: item[0]))
    
    # If sort_by is 'value', we use the built-in sorted function to sort the dictionary items by value
    elif sort_by == 'value':
        # Similarly, we use the dict constructor and the lambda function to convert the list of tuples back to a dictionary
        # This time, we sort by the second element of each tuple (i.e., the value)
        sorted_dict = dict(sorted(input_dict.items(), key=lambda item: item[1]))

    # Finally, we return the sorted dictionary
    return sorted_dict

# Example usage:
my_dict = {'c': 3, 'b': 2, 'a': 1}
print(sort_dict(my_dict))  # Output: {'a': 1, 'b': 2, 'c': 3}
print(sort_dict(my_dict, 'value'))  # Output: {'a': 1, 'b': 2, 'c': 3}
```

## Generated Output
```
{'a': 1, 'b': 2, 'c': 3}
{'a': 1, 'b': 2, 'c': 3}
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
