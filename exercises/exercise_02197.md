## Exercise
Write a function to compress a given string by replacing repeated characters with a single character and a count of the repetitions. The function should return the compressed string.

## Reference Solution
```python
def compress_string(input_str):
    """
    This function compresses a given string by replacing repeated characters with a single character and a count of the repetitions.

    Args:
        input_str (str): The input string to be compressed.

    Returns:
        str: The compressed string.
    """

    # Initialize an empty string to store the compressed string
    compressed_str = ""

    # Initialize counters for the current character and its count
    curr_char = ""
    curr_count = 0

    # Iterate over each character in the input string
    for char in input_str:
        
        # If the current character is the same as the previous one, increment the count
        if char == curr_char:
            curr_count += 1
        # If the current character is different from the previous one, update the compressed string and reset the count
        else:
            # If this is not the first character, update the compressed string
            if curr_char:
                compressed_str += curr_char + str(curr_count)
            # Update the current character and reset the count
            curr_char = char
            curr_count = 1

    # Update the compressed string for the last character
    if curr_char:
        compressed_str += curr_char + str(curr_count)

    return compressed_str

# Test the function
print(compress_string("AAABBBCCC"))  # Output: "A3B3C3"
```

## Generated Output
```
A3B3C3
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
