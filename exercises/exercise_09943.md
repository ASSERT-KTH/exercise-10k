## Exercise
Create a program that stores student grades in a dictionary. The dictionary keys should be the student names and the values should be another dictionary with the subject names as keys and the grades as values. The program should allow the user to add a new student, add a new subject grade for an existing student, and calculate the average grade for a student in a specific subject or overall.

## Reference Solution
```python
class StudentGrades:
    def __init__(self):
        self.grades = {}

    def add_student(self, name):
        """Add a new student to the grades dictionary."""
        if name not in self.grades:
            self.grades[name] = {}
            print(f"Student {name} added successfully.")
        else:
            print(f"Student {name} already exists.")

    def add_subject_grade(self, name, subject, grade):
        """Add a new subject grade for an existing student."""
        if name in self.grades:
            if subject not in self.grades[name]:
                self.grades[name][subject] = [grade]
                print(f"Grade {grade} added for {name} in {subject}.")
            else:
                self.grades[name][subject].append(grade)
                print(f"Grade {grade} added for {name} in {subject}.")
        else:
            print(f"Student {name} does not exist. Please add the student first.")

    def calculate_average_grade(self, name, subject=None):
        """Calculate the average grade for a student in a specific subject or overall."""
        if name in self.grades:
            if subject is None:
                # Calculate overall average grade
                total_grades = 0
                total_count = 0
                for subject_grades in self.grades[name].values():
                    total_grades += sum(subject_grades)
                    total_count += len(subject_grades)
                if total_count > 0:
                    average_grade = total_grades / total_count
                    print(f"The overall average grade for {name} is {average_grade:.2f}.")
                else:
                    print(f"No grades available for {name}.")
            else:
                # Calculate average grade for a specific subject
                if subject in self.grades[name]:
                    subject_grades = self.grades[name][subject]
                    average_grade = sum(subject_grades) / len(subject_grades)
                    print(f"The average grade for {name} in {subject} is {average_grade:.2f}.")
                else:
                    print(f"No grades available for {name} in {subject}.")
        else:
            print(f"Student {name} does not exist.")

def main():
    student_grades = StudentGrades()
    
    while True:
        print("\nOptions:")
        print("1. Add a new student")
        print("2. Add a new subject grade for an existing student")
        print("3. Calculate the average grade for a student")
        print("4. Exit")
        
        option = input("Choose an option: ")
        
        if option == "1":
            name = input("Enter the student's name: ")
            student_grades.add_student(name)
        elif option == "2":
            name = input("Enter the student's name: ")
            subject = input("Enter the subject name: ")
            grade = float(input("Enter the grade: "))
            student_grades.add_subject_grade(name, subject, grade)
        elif option == "3":
            name = input("Enter the student's name: ")
            subject = input("Enter the subject name (or leave blank for overall average): ")
            if subject.strip() == "":
                student_grades.calculate_average_grade(name)
            else:
                student_grades.calculate_average_grade(name, subject)
        elif option == "4":
            break
        else:
            print("Invalid option. Please choose again.")

if __name__ == "__main__":
    main()
```

## Generated Output
```
Options:
1. Add a new student
2. Add a new subject grade for an existing student
3. Calculate the average grade for a student
4. Exit
Choose an option: Invalid option. Please choose again.

Options:
1. Add a new student
2. Add a new subject grade for an existing student
3. Calculate the average grade for a student
4. Exit
Choose an option: 
Traceback (most recent call last):
  File "/tmp/tmphlyt_wm0.py", line 84, in <module>
    main()
  File "/tmp/tmphlyt_wm0.py", line 61, in main
    option = input("Choose an option: ")
EOFError: EOF when reading a line
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
