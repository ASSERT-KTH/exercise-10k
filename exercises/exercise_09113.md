## Exercise
Create a program that simulates a bank transaction system. The program should ask for the user's current balance and the amount they want to withdraw or deposit. Use conditional statements to determine if the transaction is possible. If the user wants to withdraw more money than they have, display an error message. If the user wants to deposit a negative amount, display an error message.

## Reference Solution
```python
def get_current_balance():
    """Get the user's current balance."""
    while True:
        try:
            current_balance = float(input("Enter your current balance: $"))
            if current_balance < 0:
                print("Error: Current balance cannot be negative.")
            else:
                return current_balance
        except ValueError:
            print("Error: Invalid input. Please enter a valid number.")

def get_transaction_amount():
    """Get the amount the user wants to withdraw or deposit."""
    while True:
        try:
            transaction_amount = float(input("Enter the amount you want to withdraw or deposit: $"))
            return transaction_amount
        except ValueError:
            print("Error: Invalid input. Please enter a valid number.")

def get_transaction_type():
    """Get the type of transaction the user wants to make."""
    while True:
        transaction_type = input("Do you want to withdraw or deposit? (w/d): ")
        if transaction_type.lower() == "w" or transaction_type.lower() == "d":
            return transaction_type.lower()
        else:
            print("Error: Invalid input. Please enter 'w' for withdraw or 'd' for deposit.")

def process_transaction(current_balance, transaction_amount, transaction_type):
    """Process the transaction based on the user's input."""
    if transaction_type == "w":
        if transaction_amount > current_balance:
            print("Error: You do not have sufficient funds to withdraw this amount.")
        elif transaction_amount < 0:
            print("Error: Withdrawal amount cannot be negative.")
        else:
            new_balance = current_balance - transaction_amount
            print(f"Withdrawal successful. Your new balance is: ${new_balance:.2f}")
            return new_balance
    elif transaction_type == "d":
        if transaction_amount < 0:
            print("Error: Deposit amount cannot be negative.")
        else:
            new_balance = current_balance + transaction_amount
            print(f"Deposit successful. Your new balance is: ${new_balance:.2f}")
            return new_balance
    return current_balance

def main():
    current_balance = get_current_balance()
    while True:
        transaction_type = get_transaction_type()
        transaction_amount = get_transaction_amount()
        current_balance = process_transaction(current_balance, transaction_amount, transaction_type)
        cont = input("Do you want to make another transaction? (y/n): ")
        if cont.lower() != "y":
            break

if __name__ == "__main__":
    main()
```

## Generated Output
```
Enter your current balance: $Do you want to withdraw or deposit? (w/d): Error: Invalid input. Please enter 'w' for withdraw or 'd' for deposit.
Do you want to withdraw or deposit? (w/d): 
Traceback (most recent call last):
  File "/tmp/tmpzzx_cr69.py", line 62, in <module>
    main()
  File "/tmp/tmpzzx_cr69.py", line 54, in main
    transaction_type = get_transaction_type()
  File "/tmp/tmpzzx_cr69.py", line 25, in get_transaction_type
    transaction_type = input("Do you want to withdraw or deposit? (w/d): ")
EOFError: EOF when reading a line
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
