## Exercise
Write a program that throttles input data to prevent overwhelming the system

## Reference Solution
```python
import time
import threading
from queue import Queue

class TokenBucket:
    def __init__(self, rate, capacity):
        """
        Initialize the token bucket.

        :param rate: The rate at which tokens are added to the bucket (tokens per second)
        :param capacity: The maximum capacity of the bucket (tokens)
        """
        self.rate = rate
        self.capacity = capacity
        self.tokens = capacity
        self.last_update = time.time()

    def get_token(self):
        """
        Get a token from the bucket.

        :return: True if a token is available, False otherwise
        """
        current_time = time.time()
        elapsed_time = current_time - self.last_update
        self.last_update = current_time

        # Add tokens to the bucket based on the elapsed time
        self.tokens = min(self.capacity, self.tokens + elapsed_time * self.rate)

        if self.tokens >= 1:
            self.tokens -= 1
            return True
        else:
            return False


class Throttler:
    def __init__(self, rate, capacity):
        """
        Initialize the throttler.

        :param rate: The rate at which data is allowed to be processed (items per second)
        :param capacity: The maximum capacity of the bucket (items)
        """
        self.token_bucket = TokenBucket(rate, capacity)
        self.queue = Queue()

    def add_data(self, data):
        """
        Add data to the throttler.

        :param data: The data to be processed
        """
        self.queue.put(data)

    def process_data(self):
        """
        Process the data in the throttler.
        """
        while True:
            data = self.queue.get()
            if self.token_bucket.get_token():
                # Process the data
                print(f"Processing data: {data}")
                time.sleep(0.1)  # Simulate processing time
            else:
                print("Throttling: No tokens available")
                time.sleep(0.1)  # Wait for more tokens to be available
            self.queue.task_done()


def main():
    # Create a throttler with a rate of 5 items per second and a capacity of 10 items
    throttler = Throttler(5, 10)

    # Create a thread to process the data
    thread = threading.Thread(target=throttler.process_data)
    thread.daemon = True
    thread.start()

    # Add data to the throttler
    for i in range(100):
        throttler.add_data(i)
        time.sleep(0.01)  # Simulate incoming data

    # Wait for all data to be processed
    throttler.queue.join()


if __name__ == "__main__":
    main()
```

## Generated Output
```
Execution timed out after 5 seconds.
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
