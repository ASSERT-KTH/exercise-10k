## Exercise
Create a program that manages a student's grades. The program stores the student's grades in a dictionary and calculates the average grade.

## Reference Solution
```python
class StudentGrades:
    def __init__(self):
        self.grades = {}

    def add_grade(self, subject, grade):
        """Add a grade for a subject."""
        if subject in self.grades:
            self.grades[subject].append(grade)
        else:
            self.grades[subject] = [grade]

    def remove_grade(self, subject, grade):
        """Remove a grade for a subject."""
        if subject in self.grades:
            if grade in self.grades[subject]:
                self.grades[subject].remove(grade)
            else:
                print(f"No grade {grade} found for subject {subject}.")
        else:
            print(f"No subject {subject} found.")

    def calculate_average_grade(self, subject=None):
        """Calculate the average grade for a subject or all subjects."""
        if subject is None:
            total_grades = 0
            total_sum = 0
            for subject_grades in self.grades.values():
                total_grades += len(subject_grades)
                total_sum += sum(subject_grades)
            if total_grades == 0:
                return 0
            return total_sum / total_grades
        elif subject in self.grades:
            subject_grades = self.grades[subject]
            if len(subject_grades) == 0:
                return 0
            return sum(subject_grades) / len(subject_grades)
        else:
            print(f"No subject {subject} found.")
            return None

    def display_grades(self, subject=None):
        """Display grades for a subject or all subjects."""
        if subject is None:
            for subject_name, subject_grades in self.grades.items():
                print(f"Subject: {subject_name}")
                for i, grade in enumerate(subject_grades, start=1):
                    print(f"Grade {i}: {grade}")
        elif subject in self.grades:
            print(f"Subject: {subject}")
            for i, grade in enumerate(self.grades[subject], start=1):
                print(f"Grade {i}: {grade}")
        else:
            print(f"No subject {subject} found.")


def main():
    student_grades = StudentGrades()

    while True:
        print("\nOptions:")
        print("1. Add grade")
        print("2. Remove grade")
        print("3. Calculate average grade")
        print("4. Display grades")
        print("5. Quit")

        option = input("Choose an option: ")

        if option == "1":
            subject = input("Enter subject name: ")
            grade = float(input("Enter grade: "))
            student_grades.add_grade(subject, grade)
        elif option == "2":
            subject = input("Enter subject name: ")
            grade = float(input("Enter grade to remove: "))
            student_grades.remove_grade(subject, grade)
        elif option == "3":
            subject = input("Enter subject name (or leave blank for all subjects): ")
            if subject.strip() == "":
                average_grade = student_grades.calculate_average_grade()
                print(f"Average grade for all subjects: {average_grade:.2f}")
            else:
                average_grade = student_grades.calculate_average_grade(subject)
                if average_grade is not None:
                    print(f"Average grade for {subject}: {average_grade:.2f}")
        elif option == "4":
            subject = input("Enter subject name (or leave blank for all subjects): ")
            if subject.strip() == "":
                student_grades.display_grades()
            else:
                student_grades.display_grades(subject)
        elif option == "5":
            break
        else:
            print("Invalid option. Please choose a valid option.")


if __name__ == "__main__":
    main()
```

## Generated Output
```
Options:
1. Add grade
2. Remove grade
3. Calculate average grade
4. Display grades
5. Quit
Choose an option: Invalid option. Please choose a valid option.

Options:
1. Add grade
2. Remove grade
3. Calculate average grade
4. Display grades
5. Quit
Choose an option: 
Traceback (most recent call last):
  File "/tmp/tmp35p3c2u6.py", line 100, in <module>
    main()
  File "/tmp/tmp35p3c2u6.py", line 68, in main
    option = input("Choose an option: ")
EOFError: EOF when reading a line
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
