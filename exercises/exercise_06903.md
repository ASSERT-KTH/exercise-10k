## Exercise
Create a program that uses a dictionary to store student grades. The program should prompt the user for the student's name and their grades in three subjects: Math, Science, and English. The program should then calculate the average grade for each student and store it in the dictionary. Finally, the program should print out the dictionary with the student's name, grades, and average grade.

## Reference Solution
```python
def calculate_average_grade(grades):
    """Calculate the average grade of a student."""
    return sum(grades.values()) / len(grades)

def get_student_grades():
    """Prompt the user for a student's name and grades."""
    name = input("Enter the student's name: ")
    math_grade = float(input("Enter the student's Math grade: "))
    science_grade = float(input("Enter the student's Science grade: "))
    english_grade = float(input("Enter the student's English grade: "))

    return {
        "name": name,
        "grades": {
            "Math": math_grade,
            "Science": science_grade,
            "English": english_grade
        }
    }

def main():
    """Store student grades in a dictionary and calculate their average grade."""
    students = {}

    while True:
        print("\n1. Add a student")
        print("2. Print all students")
        print("3. Exit")

        choice = input("Choose an option: ")

        if choice == "1":
            student = get_student_grades()
            average_grade = calculate_average_grade(student["grades"])
            student["average"] = average_grade
            students[student["name"]] = student
        elif choice == "2":
            for name, student in students.items():
                print(f"Name: {student['name']}")
                print("Grades:")
                for subject, grade in student["grades"].items():
                    print(f"  {subject}: {grade}")
                print(f"Average Grade: {student['average']}")
                print()
        elif choice == "3":
            break
        else:
            print("Invalid choice. Please choose again.")

if __name__ == "__main__":
    main()
```

## Generated Output
```
1. Add a student
2. Print all students
3. Exit
Choose an option: Invalid choice. Please choose again.

1. Add a student
2. Print all students
3. Exit
Choose an option: Invalid choice. Please choose again.

1. Add a student
2. Print all students
3. Exit
Choose an option: Invalid choice. Please choose again.

1. Add a student
2. Print all students
3. Exit
Choose an option: Invalid choice. Please choose again.

1. Add a student
2. Print all students
3. Exit
Choose an option: 
Traceback (most recent call last):
  File "/tmp/tmpxx48gpvp.py", line 51, in <module>
    main()
  File "/tmp/tmpxx48gpvp.py", line 30, in main
    choice = input("Choose an option: ")
EOFError: EOF when reading a line
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
