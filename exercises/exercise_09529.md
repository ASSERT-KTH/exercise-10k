## Exercise
Create a function that takes a dictionary of student names and their corresponding grades as input. The function should return a new dictionary with the student names as keys and their grades as values, but only if the grade is above 85. The function should also calculate the average grade of all the students who passed (i.e., grade above 85) and return it as a separate value.

## Reference Solution
```python
def filter_students(grades_dict):
    """
    This function filters a dictionary of student names and grades, 
    returning a new dictionary with only the students who have a grade above 85.
    It also calculates and returns the average grade of these students.

    Args:
        grades_dict (dict): A dictionary where keys are student names and values are their grades.

    Returns:
        tuple: A tuple containing a dictionary of passed students and their average grade.
    """

    # Initialize an empty dictionary to store the students who passed
    passed_students = {}

    # Initialize a list to store the grades of the passed students
    passed_grades = []

    # Iterate over each student and their grade in the input dictionary
    for student, grade in grades_dict.items():
        # Check if the grade is above 85
        if grade > 85:
            # If the grade is above 85, add the student to the passed_students dictionary
            passed_students[student] = grade
            # Also add the grade to the passed_grades list
            passed_grades.append(grade)

    # Calculate the average grade of the passed students
    # Check if there are any passed students to avoid division by zero error
    if passed_grades:
        # If there are passed students, calculate the average grade
        average_grade = sum(passed_grades) / len(passed_grades)
    else:
        # If there are no passed students, set the average grade to None
        average_grade = None

    # Return the dictionary of passed students and their average grade
    return passed_students, average_grade

# Example usage:
grades = {
    "John": 90,
    "Alice": 80,
    "Bob": 95,
    "Charlie": 70
}

passed, average = filter_students(grades)
print("Passed Students:", passed)
print("Average Grade:", average)
```

## Generated Output
```
Passed Students: {'John': 90, 'Bob': 95}
Average Grade: 92.5
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
