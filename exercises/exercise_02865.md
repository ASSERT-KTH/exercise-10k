## Exercise
Write a function to find all occurrences of a given substring in a string

## Reference Solution
```python
def find_substring(string, substring):
    """
    Find all occurrences of a given substring in a string.

    Args:
        string (str): The main string to search in.
        substring (str): The substring to search for.

    Returns:
        list: A list of indices where the substring is found.
    """
    indices = []
    start = 0
    while start < len(string):
        idx = string.find(substring, start)
        if idx != -1:
            indices.append(idx)
            start = idx + 1
        else:
            break
    return indices

# Example usage:
def main():
    string = "Hello, world. Hello again."
    substring = "Hello"
    indices = find_substring(string, substring)
    print(f"Substring '{substring}' found at indices: {indices}")

if __name__ == "__main__":
    main()
```

## Generated Output
```
Execution failed: 'list' object has no attribute 'encode'
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
