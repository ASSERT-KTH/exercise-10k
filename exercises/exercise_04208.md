## Exercise
Implement a dynamic array that can grow or shrink as elements are added or removed.

## Reference Solution
```python
class DynamicArray:
    def __init__(self, initial_capacity=1):
        """
        Initialize the dynamic array with an initial capacity.

        :param initial_capacity: The initial capacity of the array.
        """
        self.capacity = initial_capacity
        self.size = 0
        self.array = [None] * self.capacity

    def __str__(self):
        """
        Return a string representation of the dynamic array.

        :return: A string representation of the dynamic array.
        """
        return str(self.array[:self.size])

    def append(self, element):
        """
        Append an element to the end of the dynamic array.

        :param element: The element to append.
        """
        if self.size == self.capacity:
            self._resize(2 * self.capacity)
        self.array[self.size] = element
        self.size += 1

    def insert(self, index, element):
        """
        Insert an element at the specified index in the dynamic array.

        :param index: The index at which to insert the element.
        :param element: The element to insert.
        """
        if index < 0 or index > self.size:
            raise IndexError("Index out of range")
        if self.size == self.capacity:
            self._resize(2 * self.capacity)
        for i in range(self.size, index, -1):
            self.array[i] = self.array[i - 1]
        self.array[index] = element
        self.size += 1

    def remove(self, index):
        """
        Remove the element at the specified index from the dynamic array.

        :param index: The index of the element to remove.
        :return: The removed element.
        """
        if index < 0 or index >= self.size:
            raise IndexError("Index out of range")
        element = self.array[index]
        for i in range(index, self.size - 1):
            self.array[i] = self.array[i + 1]
        self.array[self.size - 1] = None
        self.size -= 1
        if self.size <= self.capacity // 4:
            self._resize(self.capacity // 2)
        return element

    def _resize(self, new_capacity):
        """
        Resize the dynamic array to the specified new capacity.

        :param new_capacity: The new capacity of the array.
        """
        new_array = [None] * new_capacity
        for i in range(self.size):
            new_array[i] = self.array[i]
        self.array = new_array
        self.capacity = new_capacity


# Example usage:
if __name__ == "__main__":
    dynamic_array = DynamicArray()
    print("Initial array:", dynamic_array)

    dynamic_array.append(1)
    dynamic_array.append(2)
    dynamic_array.append(3)
    print("After appending elements:", dynamic_array)

    dynamic_array.insert(1, 4)
    print("After inserting element at index 1:", dynamic_array)

    removed_element = dynamic_array.remove(1)
    print("Removed element:", removed_element)
    print("After removing element at index 1:", dynamic_array)
```

## Generated Output
```
Initial array: []
After appending elements: [1, 2, 3]
After inserting element at index 1: [1, 4, 2, 3]
Removed element: 4
After removing element at index 1: [1, 2, 3]
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
