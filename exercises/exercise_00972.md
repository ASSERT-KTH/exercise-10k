## Exercise
Given a dictionary with nested dictionaries, write a function to normalize it by flattening the nested dictionaries into a single level.

## Reference Solution
```python
def flatten_dict(nested_dict, parent_key='', separator='_'):
    """
    Flattens a dictionary with nested dictionaries into a single level.

    Args:
        nested_dict (dict): The dictionary to be flattened.
        parent_key (str): The parent key for the current dictionary (default is an empty string).
        separator (str): The separator to use between keys (default is an underscore).

    Returns:
        dict: The flattened dictionary.
    """
    flattened_dict = {}
    for key, value in nested_dict.items():
        new_key = f"{parent_key}{separator}{key}" if parent_key else key
        if isinstance(value, dict):
            flattened_dict.update(flatten_dict(value, new_key, separator))
        else:
            flattened_dict[new_key] = value
    return flattened_dict

# Example usage:
nested_dict = {
    "a": 1,
    "b": {
        "c": 2,
        "d": {
            "e": 3,
            "f": 4
        }
    },
    "g": 5
}

flattened_dict = flatten_dict(nested_dict)
print(flattened_dict)
```

```python
{
    'a': 1, 
    'b_c': 2, 
    'b_d_e': 3, 
    'b_d_f': 4, 
    'g': 5
}
```

## Generated Output
```
{'a': 1, 'b_c': 2, 'b_d_e': 3, 'b_d_f': 4, 'g': 5}
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
