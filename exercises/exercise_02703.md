## Exercise
Write a program to implement a Caesar cipher, which is a type of substitution cipher where each letter in the plaintext is 'shifted' a certain number of places down the alphabet.

## Reference Solution
```python
def caesar_cipher(text, shift, mode):
    """
    Encrypts or decrypts a given text using a Caesar cipher.

    Args:
    - text (str): The text to be encrypted or decrypted.
    - shift (int): The number of positions to shift the alphabet.
    - mode (str): 'encrypt' or 'decrypt' mode.

    Returns:
    - str: The encrypted or decrypted text.
    """
    alphabet = 'abcdefghijklmnopqrstuvwxyz'
    result = ''

    for char in text:
        if char.isalpha():
            # Find the position in the alphabet for the character
            pos = alphabet.index(char.lower())
            
            if mode == 'encrypt':
                # Shift the position to the right
                new_pos = (pos + shift) % 26
            elif mode == 'decrypt':
                # Shift the position to the left
                new_pos = (pos - shift) % 26

            # If the original character was uppercase, make the new character uppercase
            if char.isupper():
                result += alphabet[new_pos].upper()
            else:
                result += alphabet[new_pos]
        else:
            # If the character is not a letter, add it to the result as is
            result += char

    return result

def main():
    text = "Hello, World!"
    shift = 3

    encrypted_text = caesar_cipher(text, shift, 'encrypt')
    decrypted_text = caesar_cipher(encrypted_text, shift, 'decrypt')

    print(f"Original Text: {text}")
    print(f"Encrypted Text: {encrypted_text}")
    print(f"Decrypted Text: {decrypted_text}")

if __name__ == "__main__":
    main()
```

## Generated Output
```
Original Text: Hello, World!
Encrypted Text: Khoor, Zruog!
Decrypted Text: Hello, World!
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
