## Exercise
You are given a dictionary containing student names as keys and their respective grades in different subjects as values. Your task is to write a program that calculates the average grade for each student across all subjects and then finds the student with the highest average grade.

## Reference Solution
```python
def calculate_average_grade(students):
    """
    Calculate the average grade for each student across all subjects.

    Args:
    students (dict): A dictionary containing student names as keys and their respective grades in different subjects as values.

    Returns:
    dict: A dictionary containing student names as keys and their average grades as values.
    """

    # Initialize an empty dictionary to store the average grades
    average_grades = {}

    # Iterate over each student in the dictionary
    for student, grades in students.items():
        # Calculate the average grade for the current student
        average_grade = sum(grades.values()) / len(grades)

        # Store the average grade in the average_grades dictionary
        average_grades[student] = average_grade

    return average_grades


def find_top_student(average_grades):
    """
    Find the student with the highest average grade.

    Args:
    average_grades (dict): A dictionary containing student names as keys and their average grades as values.

    Returns:
    str: The name of the student with the highest average grade.
    """

    # Use the max function with a key argument to find the student with the highest average grade
    top_student = max(average_grades, key=average_grades.get)

    return top_student


def main():
    # Define a dictionary containing student names as keys and their respective grades in different subjects as values
    students = {
        "John": {"Math": 85, "Science": 90, "English": 78},
        "Alice": {"Math": 92, "Science": 88, "English": 95},
        "Bob": {"Math": 78, "Science": 85, "English": 90},
    }

    # Calculate the average grade for each student
    average_grades = calculate_average_grade(students)

    # Find the student with the highest average grade
    top_student = find_top_student(average_grades)

    # Print the average grades for each student
    print("Average Grades:")
    for student, average_grade in average_grades.items():
        print(f"{student}: {average_grade:.2f}")

    # Print the student with the highest average grade
    print(f"\nThe student with the highest average grade is {top_student} with an average grade of {average_grades[top_student]:.2f}")


if __name__ == "__main__":
    main()
```

## Generated Output
```
Average Grades:
John: 84.33
Alice: 91.67
Bob: 84.33

The student with the highest average grade is Alice with an average grade of 91.67
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
