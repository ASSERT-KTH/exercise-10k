## Exercise
Write a program that manages a bookstore's inventory using conditional statements, allowing users to add, remove, and search for books.

## Reference Solution
```python
class Book:
    def __init__(self, title, author, year, quantity):
        self.title = title
        self.author = author
        self.year = year
        self.quantity = quantity

class Bookstore:
    def __init__(self):
        self.books = []

    def add_book(self, title, author, year, quantity):
        for book in self.books:
            if book.title == title and book.author == author and book.year == year:
                book.quantity += quantity
                print(f"Book '{title}' by {author} already exists. Quantity updated to {book.quantity}.")
                return
        new_book = Book(title, author, year, quantity)
        self.books.append(new_book)
        print(f"Book '{title}' by {author} added to inventory.")

    def remove_book(self, title, author, year, quantity):
        for book in self.books:
            if book.title == title and book.author == author and book.year == year:
                if book.quantity >= quantity:
                    book.quantity -= quantity
                    print(f"Quantity of book '{title}' by {author} updated to {book.quantity}.")
                else:
                    print(f"Not enough quantity of book '{title}' by {author} to remove {quantity}.")
                return
        print(f"Book '{title}' by {author} not found in inventory.")

    def search_book(self, title=None, author=None, year=None):
        results = []
        for book in self.books:
            if (title is None or book.title == title) and (author is None or book.author == author) and (year is None or book.year == year):
                results.append(book)
        if results:
            print("Search results:")
            for book in results:
                print(f"Title: {book.title}, Author: {book.author}, Year: {book.year}, Quantity: {book.quantity}")
        else:
            print("No books found matching the search criteria.")

def main():
    bookstore = Bookstore()
    
    while True:
        print("\nBookstore Inventory Management")
        print("1. Add book to inventory")
        print("2. Remove book from inventory")
        print("3. Search for book")
        print("4. Exit")
        
        choice = input("Choose an option: ")
        
        if choice == "1":
            title = input("Enter book title: ")
            author = input("Enter book author: ")
            year = int(input("Enter book year: "))
            quantity = int(input("Enter book quantity: "))
            bookstore.add_book(title, author, year, quantity)
        elif choice == "2":
            title = input("Enter book title: ")
            author = input("Enter book author: ")
            year = int(input("Enter book year: "))
            quantity = int(input("Enter book quantity to remove: "))
            bookstore.remove_book(title, author, year, quantity)
        elif choice == "3":
            title = input("Enter book title (optional): ")
            author = input("Enter book author (optional): ")
            year = input("Enter book year (optional): ")
            if title == "":
                title = None
            if author == "":
                author = None
            if year == "":
                year = None
            else:
                year = int(year)
            bookstore.search_book(title, author, year)
        elif choice == "4":
            print("Exiting program.")
            break
        else:
            print("Invalid choice. Please choose a valid option.")

if __name__ == "__main__":
    main()
```

## Generated Output
```
Bookstore Inventory Management
1. Add book to inventory
2. Remove book from inventory
3. Search for book
4. Exit
Choose an option: Invalid choice. Please choose a valid option.

Bookstore Inventory Management
1. Add book to inventory
2. Remove book from inventory
3. Search for book
4. Exit
Choose an option: 
Traceback (most recent call last):
  File "/tmp/tmphomweros.py", line 89, in <module>
    main()
  File "/tmp/tmphomweros.py", line 55, in main
    choice = input("Choose an option: ")
EOFError: EOF when reading a line
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
