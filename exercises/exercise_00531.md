## Exercise
Write a function to schedule tasks on multiple machines to minimize the makespan.

## Reference Solution
```python
import heapq

def schedule_tasks(tasks, machines):
    """
    Schedule tasks on multiple machines to minimize the makespan.

    Args:
    tasks (list): A list of task durations.
    machines (int): The number of machines.

    Returns:
    list: A list of machine schedules, where each schedule is a list of task durations.
    """
    # Initialize machine schedules with end times
    machine_schedules = [[] for _ in range(machines)]
    machine_end_times = [0] * machines

    # Sort tasks by duration in descending order
    tasks.sort(reverse=True)

    # Assign tasks to machines
    for task in tasks:
        # Find the machine with the earliest end time
        machine_idx = machine_end_times.index(min(machine_end_times))
        machine_schedules[machine_idx].append(task)
        machine_end_times[machine_idx] += task

    return machine_schedules

def calculate_makespan(machine_schedules):
    """
    Calculate the makespan of a machine schedule.

    Args:
    machine_schedules (list): A list of machine schedules, where each schedule is a list of task durations.

    Returns:
    int: The makespan of the machine schedule.
    """
    return max(sum(schedule) for schedule in machine_schedules)

# Example usage
tasks = [5, 2, 8, 3, 1, 6, 4]
machines = 3
machine_schedules = schedule_tasks(tasks, machines)
makespan = calculate_makespan(machine_schedules)

print("Machine Schedules:")
for i, schedule in enumerate(machine_schedules):
    print(f"Machine {i+1}: {schedule}")

print(f"Makespan: {makespan}")
```

## Generated Output
```
Machine Schedules:
Machine 1: [8, 2]
Machine 2: [6, 3, 1]
Machine 3: [5, 4]
Makespan: 10
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
