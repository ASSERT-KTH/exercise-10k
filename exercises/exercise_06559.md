## Exercise
Create a function that justifies a given text by aligning the words to a specified width.

## Reference Solution
```python
def justify_text(words, max_width):
    """
    Justifies a given text by aligning the words to a specified width.

    Args:
        words (list): A list of words to be justified.
        max_width (int): The maximum width of each line.

    Returns:
        list: A list of justified lines.
    """
    result = []
    current_line = []
    current_width = 0

    for word in words:
        # Check if adding the word to the current line would exceed the max width
        if current_width + len(word) + len(current_line) > max_width:
            # Justify the current line and add it to the result
            result.append(justify_line(current_line, max_width))
            current_line = []
            current_width = 0

        # Add the word to the current line
        current_line.append(word)
        current_width += len(word)

    # Justify the last line and add it to the result
    result.append(justify_last_line(current_line, max_width))

    return result


def justify_line(words, max_width):
    """
    Justifies a line of text by distributing the spaces evenly between the words.

    Args:
        words (list): A list of words to be justified.
        max_width (int): The maximum width of the line.

    Returns:
        str: The justified line.
    """
    total_chars = sum(len(word) for word in words)
    total_spaces = max_width - total_chars
    num_gaps = len(words) - 1

    if num_gaps == 0:
        # If there is only one word, add all spaces to the end
        return words[0] + ' ' * total_spaces

    space_per_gap = total_spaces // num_gaps
    extra_spaces = total_spaces % num_gaps

    justified_line = ''
    for i, word in enumerate(words):
        justified_line += word
        if i < num_gaps:
            justified_line += ' ' * (space_per_gap + (1 if i < extra_spaces else 0))

    return justified_line


def justify_last_line(words, max_width):
    """
    Justifies the last line of text by adding spaces to the end.

    Args:
        words (list): A list of words to be justified.
        max_width (int): The maximum width of the line.

    Returns:
        str: The justified line.
    """
    justified_line = ' '.join(words)
    return justified_line + ' ' * (max_width - len(justified_line))


# Example usage
words = ["This", "is", "an", "example", "of", "text", "justification."]
max_width = 16
justified_lines = justify_text(words, max_width)
for line in justified_lines:
    print(line)
```

## Generated Output
```
Execution failed: 'list' object has no attribute 'encode'
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
