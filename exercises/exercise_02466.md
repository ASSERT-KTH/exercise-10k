## Exercise
Write a function that implements a Caesar cipher, shifting each letter in the input string by a given number of positions.

## Reference Solution
```python
def caesar_cipher(text: str, shift: int, direction: str = 'encode') -> str:
    """
    Implements a Caesar cipher, shifting each letter in the input string by a given number of positions.

    Args:
    - text (str): The input string to be encoded or decoded.
    - shift (int): The number of positions to shift each letter.
    - direction (str, optional): The direction of the shift. Defaults to 'encode'. Can be 'encode' or 'decode'.

    Returns:
    - str: The encoded or decoded string.
    """
    alphabet = 'abcdefghijklmnopqrstuvwxyz'
    result = ''

    for char in text:
        if char.isalpha():
            # Find the position in the alphabet for the character
            pos = alphabet.index(char.lower())
            
            # Apply the shift
            if direction == 'encode':
                new_pos = (pos + shift) % 26
            elif direction == 'decode':
                new_pos = (pos - shift) % 26
            else:
                raise ValueError("Invalid direction. Must be 'encode' or 'decode'.")

            # Replace the character with the shifted character
            if char.isupper():
                result += alphabet[new_pos].upper()
            else:
                result += alphabet[new_pos]
        else:
            # If the character is not a letter, leave it unchanged
            result += char

    return result


# Example usage
if __name__ == "__main__":
    text = "Hello, World!"
    shift = 3

    encoded_text = caesar_cipher(text, shift, direction='encode')
    decoded_text = caesar_cipher(encoded_text, shift, direction='decode')

    print(f"Original Text: {text}")
    print(f"Encoded Text: {encoded_text}")
    print(f"Decoded Text: {decoded_text}")
```

## Generated Output
```
Execution failed: 'list' object has no attribute 'encode'
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
