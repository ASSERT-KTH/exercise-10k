## Exercise
Implement a Caesar cipher, which shifts each letter in the input string by a fixed number of positions down the alphabet.

## Reference Solution
```python
def caesar_cipher(text: str, shift: int, mode: str = 'encode') -> str:
    """
    Implement a Caesar cipher, which shifts each letter in the input string by a fixed number of positions down the alphabet.

    Args:
    - text (str): The input string to be encoded or decoded.
    - shift (int): The number of positions to shift each letter.
    - mode (str, optional): The mode of operation, either 'encode' or 'decode'. Defaults to 'encode'.

    Returns:
    - str: The encoded or decoded string.
    """
    alphabet = 'abcdefghijklmnopqrstuvwxyz'
    result = ''

    for char in text:
        if char.isalpha():
            # Find the position of the character in the alphabet
            pos = alphabet.index(char.lower())
            
            # Shift the position based on the mode
            if mode == 'encode':
                new_pos = (pos + shift) % 26
            elif mode == 'decode':
                new_pos = (pos - shift) % 26
            
            # Preserve the original case
            if char.isupper():
                result += alphabet[new_pos].upper()
            else:
                result += alphabet[new_pos]
        else:
            # Non-alphabet characters are left unchanged
            result += char

    return result


def main():
    text = "Hello, World!"
    shift = 3

    encoded_text = caesar_cipher(text, shift)
    print(f"Encoded text: {encoded_text}")

    decoded_text = caesar_cipher(encoded_text, shift, mode='decode')
    print(f"Decoded text: {decoded_text}")


if __name__ == "__main__":
    main()
```

## Generated Output
```
Encoded text: Khoor, Zruog!
Decoded text: Hello, World!
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
