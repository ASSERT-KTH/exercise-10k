## Exercise
Write a function that takes two lists of integers as input and returns a new list containing the elements that are common to both input lists, without duplicates. The function should preserve the original order of elements.

## Reference Solution
```python
def common_elements(list1, list2):
    """
    This function takes two lists of integers as input and returns a new list containing the elements that are common to both input lists, without duplicates.
    The function preserves the original order of elements.

    Args:
        list1 (list): The first list of integers.
        list2 (list): The second list of integers.

    Returns:
        list: A new list containing the common elements from both input lists, without duplicates.
    """

    # Create an empty set to store the unique elements from the first list
    set1 = set()

    # Create an empty list to store the common elements
    common = []

    # Iterate over each element in the first list
    for num in list1:
        # Add the element to the set
        set1.add(num)

    # Iterate over each element in the second list
    for num in list2:
        # Check if the element is in the set and not already in the common list
        if num in set1 and num not in common:
            # Add the element to the common list
            common.append(num)

    # Return the common list
    return common

# Test the function
print(common_elements([1, 2, 3, 4, 5], [4, 5, 6, 7, 8]))
```

## Generated Output
```
[4, 5]
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
