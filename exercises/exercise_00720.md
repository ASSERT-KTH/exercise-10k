## Exercise
Write a function to flatten a nested dictionary

## Reference Solution
```python
def flatten_dict(nested_dict, parent_key='', sep='_'):
    """
    Flattens a nested dictionary.

    Args:
    - nested_dict (dict): The nested dictionary to be flattened.
    - parent_key (str): The parent key for the current dictionary. Defaults to an empty string.
    - sep (str): The separator to use between keys. Defaults to an underscore.

    Returns:
    - dict: The flattened dictionary.
    """
    flattened_dict = {}
    for key, value in nested_dict.items():
        new_key = f"{parent_key}{sep}{key}" if parent_key else key
        if isinstance(value, dict):
            flattened_dict.update(flatten_dict(value, new_key, sep))
        else:
            flattened_dict[new_key] = value
    return flattened_dict

# Example usage
if __name__ == "__main__":
    nested_dict = {
        'a': 1,
        'b': {
            'x': 2,
            'y': 3,
            'z': {
                'p': 4,
                'q': 5
            }
        },
        'c': 6
    }

    flattened_dict = flatten_dict(nested_dict)
    print(flattened_dict)
```

```python
{
    'a': 1,
    'b_x': 2,
    'b_y': 3,
    'b_z_p': 4,
    'b_z_q': 5,
    'c': 6
}
```

## Generated Output
```
{'a': 1, 'b_x': 2, 'b_y': 3, 'b_z_p': 4, 'b_z_q': 5, 'c': 6}
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
