## Exercise
Given a dictionary, write a function to invert it, i.e., swap the keys and values. If the dictionary has non-unique values, the resulting dictionary should contain lists of keys that correspond to each value.

## Reference Solution
```python
def invert_dict(input_dict):
    """
    Inverts a dictionary, swapping keys and values. If the dictionary has non-unique values, 
    the resulting dictionary will contain lists of keys that correspond to each value.

    Args:
        input_dict (dict): The dictionary to be inverted.

    Returns:
        dict: The inverted dictionary.
    """

    # Initialize an empty dictionary to store the inverted result
    inverted_dict = {}

    # Iterate over each key-value pair in the input dictionary
    for key, value in input_dict.items():
        # If the value is not already a key in the inverted dictionary, add it with the key as its value
        if value not in inverted_dict:
            # Since we don't know if the value will be unique or not, we'll start by storing the key as a list
            inverted_dict[value] = [key]
        else:
            # If the value is already a key in the inverted dictionary, append the current key to its list of values
            inverted_dict[value].append(key)

    # Return the inverted dictionary
    return inverted_dict

# Example usage:
input_dict = {'a': 1, 'b': 2, 'c': 1, 'd': 3}
print(invert_dict(input_dict))  # Output: {1: ['a', 'c'], 2: ['b'], 3: ['d']}
```

## Generated Output
```
{1: ['a', 'c'], 2: ['b'], 3: ['d']}
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
