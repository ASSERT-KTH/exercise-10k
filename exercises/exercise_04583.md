## Exercise
Create a function that takes two player choices as input and returns the winner

## Reference Solution
```python
def rock_paper_scissors(player1, player2):
    """
    Determine the winner of a Rock Paper Scissors game.

    Args:
    player1 (str): The choice of the first player. Can be 'rock', 'paper', or 'scissors'.
    player2 (str): The choice of the second player. Can be 'rock', 'paper', or 'scissors'.

    Returns:
    str: The winner of the game. Can be 'player1', 'player2', or 'tie'.

    Raises:
    ValueError: If either player's choice is not 'rock', 'paper', or 'scissors'.
    """

    # Define the winning conditions
    winning_conditions = {
        'rock': 'scissors',
        'scissors': 'paper',
        'paper': 'rock'
    }

    # Check if the inputs are valid
    valid_choices = ['rock', 'paper', 'scissors']
    if player1 not in valid_choices or player2 not in valid_choices:
        raise ValueError("Invalid choice. Must be 'rock', 'paper', or 'scissors'.")

    # Determine the winner
    if player1 == player2:
        return 'tie'
    elif winning_conditions[player1] == player2:
        return 'player1'
    else:
        return 'player2'

# Example usage
if __name__ == "__main__":
    print(rock_paper_scissors('rock', 'scissors'))  # Output: player1
    print(rock_paper_scissors('scissors', 'paper'))  # Output: player1
    print(rock_paper_scissors('paper', 'rock'))  # Output: player1
    print(rock_paper_scissors('rock', 'rock'))  # Output: tie
    try:
        print(rock_paper_scissors('invalid', 'rock'))  # Raises ValueError
    except ValueError as e:
        print(e)
```

## Generated Output
```
player1
player1
player1
tie
Invalid choice. Must be 'rock', 'paper', or 'scissors'.
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
