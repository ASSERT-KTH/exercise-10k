## Exercise
Write a program that takes a string and a pattern as input and returns the index of the first occurrence of the pattern in the string.

## Reference Solution
```python
def compute_prefix_function(pattern):
    prefix = [0] * len(pattern)
    j = 0
    for i in range(1, len(pattern)):
        while j > 0 and pattern[j] != pattern[i]:
            j = prefix[j - 1]
        if pattern[j] == pattern[i]:
            j += 1
        prefix[i] = j
    return prefix

def kmp_search(string, pattern):
    prefix = compute_prefix_function(pattern)
    j = 0
    for i in range(len(string)):
        while j > 0 and pattern[j] != string[i]:
            j = prefix[j - 1]
        if pattern[j] == string[i]:
            j += 1
        if j == len(pattern):
            return i - j + 1
    return -1

def solve(s, p):
    return kmp_search(s, p)

# Example usage
s = "abxabcabcaby"
p = "abcaby"
result = solve(s, p)
print(result)  # Output: 6
```

## Generated Output
```
Execution failed: 'list' object has no attribute 'encode'
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
