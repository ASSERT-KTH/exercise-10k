## Exercise
Create a program that simulates a simple game, where the user has to navigate a character through a maze and reach the exit

## Reference Solution
```python
class MazeGame:
    def __init__(self, maze):
        self.maze = maze
        self.character_position = self.find_character_position()

    def find_character_position(self):
        for i in range(len(self.maze)):
            for j in range(len(self.maze[i])):
                if self.maze[i][j] == 'S':
                    return (i, j)

    def print_maze(self):
        for i in range(len(self.maze)):
            for j in range(len(self.maze[i])):
                if (i, j) == self.character_position:
                    print('C', end=' ')
                else:
                    print(self.maze[i][j], end=' ')
            print()

    def is_valid_move(self, new_position):
        x, y = new_position
        if x < 0 or x >= len(self.maze) or y < 0 or y >= len(self.maze[0]):
            return False
        if self.maze[x][y] == '#':
            return False
        return True

    def make_move(self, direction):
        x, y = self.character_position
        if direction == 'up':
            new_position = (x - 1, y)
        elif direction == 'down':
            new_position = (x + 1, y)
        elif direction == 'left':
            new_position = (x, y - 1)
        elif direction == 'right':
            new_position = (x, y + 1)
        if self.is_valid_move(new_position):
            self.character_position = new_position
            if self.maze[self.character_position[0]][self.character_position[1]] == 'E':
                print("Congratulations, you have reached the exit!")
                return False
        else:
            print("Invalid move, try again.")
        return True

    def play_game(self):
        while True:
            self.print_maze()
            direction = input("Enter a direction (up, down, left, right): ")
            if not self.make_move(direction):
                break


# Example usage
maze = [
    ['#', '#', '#', '#', '#', '#', '#'],
    ['#', 'S', ' ', ' ', ' ', ' ', '#'],
    ['#', '#', '#', ' ', '#', ' ', '#'],
    ['#', ' ', ' ', ' ', '#', ' ', '#'],
    ['#', ' ', '#', ' ', '#', ' ', '#'],
    ['#', ' ', ' ', ' ', ' ', 'E', '#'],
    ['#', '#', '#', '#', '#', '#', '#']
]

game = MazeGame(maze)
game.play_game()
```

## Generated Output
```
# # # # # # # 
# C         # 
# # #   #   # 
#       #   # 
#   #   #   # 
#         E # 
# # # # # # # 
Enter a direction (up, down, left, right): 
Traceback (most recent call last):
  File "/tmp/tmp12j6dhic.py", line 68, in <module>
    game.play_game()
  File "/tmp/tmp12j6dhic.py", line 52, in play_game
    if not self.make_move(direction):
  File "/tmp/tmp12j6dhic.py", line 39, in make_move
    if self.is_valid_move(new_position):
UnboundLocalError: local variable 'new_position' referenced before assignment
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
