## Exercise
Write a program to implement Huffman coding for a given text

## Reference Solution
```python
import heapq
from collections import defaultdict

class Node:
    def __init__(self, char, freq):
        self.char = char
        self.freq = freq
        self.left = None
        self.right = None

    def __lt__(self, other):
        return self.freq < other.freq

def calculate_frequency(text):
    """
    Calculate the frequency of each character in the text.

    Args:
        text (str): The input text.

    Returns:
        dict: A dictionary where the keys are characters and the values are their frequencies.
    """
    frequency = defaultdict(int)
    for char in text:
        frequency[char] += 1
    return frequency

def build_huffman_tree(frequency):
    """
    Build the Huffman tree based on the character frequencies.

    Args:
        frequency (dict): A dictionary where the keys are characters and the values are their frequencies.

    Returns:
        Node: The root node of the Huffman tree.
    """
    heap = [Node(char, freq) for char, freq in frequency.items()]
    heapq.heapify(heap)

    while len(heap) > 1:
        node1 = heapq.heappop(heap)
        node2 = heapq.heappop(heap)

        merged = Node(None, node1.freq + node2.freq)
        merged.left = node1
        merged.right = node2

        heapq.heappush(heap, merged)

    return heap[0]

def build_codes_helper(root, current_code, codes):
    """
    Helper function to build the Huffman codes.

    Args:
        root (Node): The current node in the Huffman tree.
        current_code (str): The current code for the node.
        codes (dict): A dictionary where the keys are characters and the values are their Huffman codes.
    """
    if root.char is not None:
        codes[root.char] = current_code

    if root.left is not None:
        build_codes_helper(root.left, current_code + "0", codes)

    if root.right is not None:
        build_codes_helper(root.right, current_code + "1", codes)

def build_codes(root):
    """
    Build the Huffman codes for each character.

    Args:
        root (Node): The root node of the Huffman tree.

    Returns:
        dict: A dictionary where the keys are characters and the values are their Huffman codes.
    """
    codes = {}
    build_codes_helper(root, "", codes)
    return codes

def huffman_encoding(text):
    """
    Perform Huffman encoding on the given text.

    Args:
        text (str): The input text.

    Returns:
        str: The encoded text.
        dict: A dictionary where the keys are characters and the values are their Huffman codes.
    """
    frequency = calculate_frequency(text)
    root = build_huffman_tree(frequency)
    codes = build_codes(root)

    encoded_text = "".join(codes[char] for char in text)
    return encoded_text, codes

def huffman_decoding(encoded_text, codes):
    """
    Perform Huffman decoding on the given encoded text.

    Args:
        encoded_text (str): The encoded text.
        codes (dict): A dictionary where the keys are characters and the values are their Huffman codes.

    Returns:
        str: The decoded text.
    """
    reverse_codes = {v: k for k, v in codes.items()}
    decoded_text = ""
    temp = ""

    for bit in encoded_text:
        temp += bit
        if temp in reverse_codes:
            decoded_text += reverse_codes[temp]
            temp = ""

    return decoded_text

# Example usage
text = "this is an example for huffman encoding"
encoded_text, codes = huffman_encoding(text)
print("Encoded text:", encoded_text)
print("Huffman codes:", codes)

decoded_text = huffman_decoding(encoded_text, codes)
print("Decoded text:", decoded_text)
```

## Generated Output
```
Encoded text: 0101001001001001010110010010101111100010111100111011110011100000110111101011101110010110010101001100011011101001111110001011110000011111100101011100100010001
Huffman codes: {'n': '000', 's': '0010', 'm': '0011', 'h': '0100', 't': '01010', 'd': '01011', 'r': '01100', 'l': '01101', 'x': '01110', 'c': '01111', 'p': '10000', 'g': '10001', 'i': '1001', ' ': '101', 'u': '11000', 'o': '11001', 'f': '1101', 'e': '1110', 'a': '1111'}
Decoded text: this is an example for huffman encoding
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
