## Exercise
Write a function that converts a temperature from Celsius to Fahrenheit or vice versa.

## Reference Solution
```python
def convert_temperature(value, from_unit, to_unit):
    """
    Converts temperature from one unit to another.

    Args:
        value (float): The temperature value to convert.
        from_unit (str): The unit of the input temperature. Can be 'celsius' or 'fahrenheit'.
        to_unit (str): The unit to convert the temperature to. Can be 'celsius' or 'fahrenheit'.

    Returns:
        float: The converted temperature value.

    Raises:
        ValueError: If the from_unit or to_unit is not 'celsius' or 'fahrenheit'.
    """

    # Check if the units are valid
    if from_unit not in ['celsius', 'fahrenheit'] or to_unit not in ['celsius', 'fahrenheit']:
        raise ValueError("Invalid unit. Unit must be 'celsius' or 'fahrenheit'.")

    # Convert Celsius to Fahrenheit
    if from_unit == 'celsius' and to_unit == 'fahrenheit':
        return (value * 9/5) + 32

    # Convert Fahrenheit to Celsius
    elif from_unit == 'fahrenheit' and to_unit == 'celsius':
        return (value - 32) * 5/9

    # If the units are the same, return the original value
    else:
        return value


# Example usage:
if __name__ == "__main__":
    print(convert_temperature(30, 'celsius', 'fahrenheit'))  # Output: 86.0
    print(convert_temperature(86, 'fahrenheit', 'celsius'))  # Output: 30.0
```

## Generated Output
```
86.0
30.0
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
