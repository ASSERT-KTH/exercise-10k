## Exercise
Create a function that uses logging to output messages or errors.

## Reference Solution
```python
import logging

# Create a logger
logger = logging.getLogger(__name__)
logger.setLevel(logging.DEBUG)

# Create a file handler and a stream handler
file_handler = logging.FileHandler('log_file.log')
stream_handler = logging.StreamHandler()

# Create a formatter and attach it to the handlers
formatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')
file_handler.setFormatter(formatter)
stream_handler.setFormatter(formatter)

# Add the handlers to the logger
logger.addHandler(file_handler)
logger.addHandler(stream_handler)

def log_message(message, level='info'):
    """
    Logs a message at the specified level.

    Args:
        message (str): The message to log.
        level (str, optional): The log level. Defaults to 'info'.

    Raises:
        ValueError: If the log level is not one of 'debug', 'info', 'warning', 'error', or 'critical'.
    """
    levels = {
        'debug': logger.debug,
        'info': logger.info,
        'warning': logger.warning,
        'error': logger.error,
        'critical': logger.critical
    }

    if level not in levels:
        raise ValueError("Invalid log level. Must be one of 'debug', 'info', 'warning', 'error', or 'critical'.")

    levels[level](message)

# Example usage
if __name__ == "__main__":
    log_message("This is a debug message.", 'debug')
    log_message("This is an info message.")
    log_message("This is a warning message.", 'warning')
    log_message("This is an error message.", 'error')
    log_message("This is a critical message.", 'critical')
```

## Generated Output
```
2026-02-14 08:30:25,138 - __main__ - DEBUG - This is a debug message.
2026-02-14 08:30:25,138 - __main__ - INFO - This is an info message.
2026-02-14 08:30:25,138 - __main__ - WARNING - This is a warning message.
2026-02-14 08:30:25,138 - __main__ - ERROR - This is an error message.
2026-02-14 08:30:25,138 - __main__ - CRITICAL - This is a critical message.
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
