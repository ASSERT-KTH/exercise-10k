## Exercise
Write a function that shifts the elements of a given array to the left or right by a specified number of positions.

## Reference Solution
```python
def shift_array(array, positions, direction):
    """
    Shifts the elements of a given array to the left or right by a specified number of positions.

    Args:
        array (list): The input array.
        positions (int): The number of positions to shift the array.
        direction (str): The direction of the shift. It can be either 'left' or 'right'.

    Returns:
        list: The shifted array.

    Raises:
        ValueError: If the direction is not 'left' or 'right'.
    """

    # Check if the direction is valid
    if direction not in ['left', 'right']:
        raise ValueError("Direction must be either 'left' or 'right'.")

    # Calculate the effective number of positions to shift
    # This handles cases where the number of positions is greater than the length of the array
    effective_positions = positions % len(array)

    # Shift the array to the left
    if direction == 'left':
        # Use list slicing to shift the array
        return array[effective_positions:] + array[:effective_positions]

    # Shift the array to the right
    elif direction == 'right':
        # Use list slicing to shift the array
        return array[-effective_positions:] + array[:-effective_positions]


# Example usage:
array = [1, 2, 3, 4, 5]
positions = 2
direction = 'right'

shifted_array = shift_array(array, positions, direction)
print(shifted_array)  # Output: [4, 5, 1, 2, 3]
```

## Generated Output
```
[4, 5, 1, 2, 3]
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
