## Exercise
Create a function that uses the websocket module to establish a WebSocket connection and send/receive data.

## Reference Solution
```python
pip install websocket-client
```

```python
import websocket
import json

def establish_websocket_connection(url):
    """
    Establish a WebSocket connection to the specified URL.

    Args:
        url (str): The URL of the WebSocket server.

    Returns:
        websocket.WebSocket: The established WebSocket connection.
    """
    ws = websocket.WebSocket()
    ws.connect(url)
    return ws

def send_data(ws, data):
    """
    Send data over the established WebSocket connection.

    Args:
        ws (websocket.WebSocket): The established WebSocket connection.
        data (str): The data to be sent.
    """
    ws.send(data)

def receive_data(ws):
    """
    Receive data over the established WebSocket connection.

    Args:
        ws (websocket.WebSocket): The established WebSocket connection.

    Returns:
        str: The received data.
    """
    return ws.recv()

def main():
    # Example usage
    url = "ws://echo.websocket.org"
    ws = establish_websocket_connection(url)

    # Send data
    data_to_send = "Hello, WebSocket!"
    send_data(ws, data_to_send)

    # Receive data
    received_data = receive_data(ws)
    print("Received data:", received_data)

    # Close the WebSocket connection
    ws.close()

if __name__ == "__main__":
    main()
```

## Generated Output
```
Traceback (most recent call last):
  File "/tmp/tmpovc3e85a.py", line 57, in <module>
    main()
  File "/tmp/tmpovc3e85a.py", line 43, in main
    ws = establish_websocket_connection(url)
  File "/tmp/tmpovc3e85a.py", line 15, in establish_websocket_connection
    ws.connect(url)
  File "/opt/conda/lib/python3.10/site-packages/websocket/_core.py", line 266, in connect
    self.sock, addrs = connect(
  File "/opt/conda/lib/python3.10/site-packages/websocket/_http.py", line 128, in connect
    hostname, port_from_url, resource, is_secure = parse_url(url)
  File "/opt/conda/lib/python3.10/site-packages/websocket/_url.py", line 62, in parse_url
    raise ValueError("scheme %s is invalid" % scheme)
ValueError: scheme https is invalid
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
