## Exercise
Write a program that takes a mortgage amount, interest rate, and loan term as input and calculates the monthly payment. Based on the interest rate, print whether the loan is affordable (less than 30% of gross income) or not.

## Reference Solution
```python
def calculate_mortgage_payment(mortgage_amount, interest_rate, loan_term):
    """
    Calculate the monthly mortgage payment.

    Args:
        mortgage_amount (float): The amount borrowed.
        interest_rate (float): The annual interest rate as a decimal.
        loan_term (int): The number of years the money is borrowed for.

    Returns:
        float: The monthly payment amount.
    """
    # Convert annual interest rate to monthly interest rate
    monthly_interest_rate = interest_rate / 12

    # Calculate the number of payments
    number_of_payments = loan_term * 12

    # Calculate the monthly payment
    monthly_payment = (mortgage_amount * monthly_interest_rate * (1 + monthly_interest_rate) ** number_of_payments) / (
                (1 + monthly_interest_rate) ** number_of_payments - 1)

    return monthly_payment


def check_affordability(monthly_payment, gross_income):
    """
    Check if the loan is affordable based on the monthly payment and gross income.

    Args:
        monthly_payment (float): The monthly payment amount.
        gross_income (float): The borrower's gross income.

    Returns:
        bool: True if the loan is affordable, False otherwise.
    """
    # Calculate 30% of gross income
    thirty_percent_of_gross_income = gross_income * 0.3

    # Check if the monthly payment is less than 30% of gross income
    if monthly_payment <= thirty_percent_of_gross_income:
        return True
    else:
        return False


def main():
    # Get user input
    mortgage_amount = float(input("Enter the mortgage amount: $"))
    interest_rate = float(input("Enter the annual interest rate as a percentage (e.g., 4 for 4%): ")) / 100
    loan_term = int(input("Enter the loan term in years: "))
    gross_income = float(input("Enter your gross income: $"))

    # Calculate the monthly payment
    monthly_payment = calculate_mortgage_payment(mortgage_amount, interest_rate, loan_term)
    print(f"Your monthly payment is: ${monthly_payment:.2f}")

    # Check if the loan is affordable
    if check_affordability(monthly_payment, gross_income):
        print("The loan is affordable.")
    else:
        print("The loan is not affordable.")


if __name__ == "__main__":
    main()
```

## Generated Output
```
Enter the mortgage amount: $
Traceback (most recent call last):
  File "/tmp/tmptmtvs0mj.py", line 66, in <module>
    main()
  File "/tmp/tmptmtvs0mj.py", line 49, in main
    mortgage_amount = float(input("Enter the mortgage amount: $"))
ValueError: could not convert string to float: '200000 4 30'
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
