## Exercise
Create a program that defines a function to perform basic arithmetic operations (addition, subtraction, multiplication, division) based on user input. The function should take two numbers and an operator as arguments and return the result of the operation.

## Reference Solution
```python
def calculate(num1, num2, operator):
    if operator == '+':
        return num1 + num2
    elif operator == '-':
        return num1 - num2
    elif operator == '*':
        return num1 * num2
    elif operator == '/':
        if num2 != 0:
            return num1 / num2
        else:
            raise ValueError("Cannot divide by zero.")
    else:
        raise ValueError("Invalid operator. Please use '+', '-', '*', or '/'.")

def main():
    num1 = float(input("Enter the first number: "))
    operator = input("Enter the operator (+, -, *, /): ")
    num2 = float(input("Enter the second number: "))

    try:
        result = calculate(num1, num2, operator)
        print(f"{num1} {operator} {num2} = {result}")
    except ValueError as e:
        print(str(e))

if __name__ == "__main__":
    main()
```

## Generated Output
```
Enter the first number: 
Traceback (most recent call last):
  File "/tmp/tmpt3j_y4ym.py", line 28, in <module>
    main()
  File "/tmp/tmpt3j_y4ym.py", line 17, in main
    num1 = float(input("Enter the first number: "))
ValueError: could not convert string to float: "2, 3, '+'"
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
