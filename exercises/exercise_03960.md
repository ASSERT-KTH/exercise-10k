## Exercise
Write a program to simulate a stock market where the user can buy and sell stocks.

## Reference Solution
```python
import random

class StockMarket:
    def __init__(self):
        self.stocks = {
            "Apple": 150.0,
            "Google": 2500.0,
            "Amazon": 3000.0,
            "Microsoft": 200.0,
            "Facebook": 250.0
        }
        self.user_portfolio = {}

    def display_stocks(self):
        print("Available Stocks:")
        for stock, price in self.stocks.items():
            print(f"{stock}: ${price:.2f}")

    def buy_stock(self):
        self.display_stocks()
        stock_name = input("Enter the stock name to buy: ")
        if stock_name in self.stocks:
            quantity = int(input("Enter the quantity to buy: "))
            price = self.stocks[stock_name]
            total_cost = quantity * price
            if stock_name in self.user_portfolio:
                self.user_portfolio[stock_name]["quantity"] += quantity
                self.user_portfolio[stock_name]["total_cost"] += total_cost
            else:
                self.user_portfolio[stock_name] = {
                    "quantity": quantity,
                    "total_cost": total_cost
                }
            print(f"You bought {quantity} shares of {stock_name} at ${price:.2f} each.")
        else:
            print("Stock not found.")

    def sell_stock(self):
        if not self.user_portfolio:
            print("You don't have any stocks to sell.")
            return
        print("Your Portfolio:")
        for stock, info in self.user_portfolio.items():
            print(f"{stock}: {info['quantity']} shares")
        stock_name = input("Enter the stock name to sell: ")
        if stock_name in self.user_portfolio:
            quantity = int(input("Enter the quantity to sell: "))
            if quantity > self.user_portfolio[stock_name]["quantity"]:
                print("You don't have enough shares to sell.")
                return
            price = self.stocks[stock_name]
            total_revenue = quantity * price
            self.user_portfolio[stock_name]["quantity"] -= quantity
            self.user_portfolio[stock_name]["total_cost"] -= total_revenue
            if self.user_portfolio[stock_name]["quantity"] == 0:
                del self.user_portfolio[stock_name]
            print(f"You sold {quantity} shares of {stock_name} at ${price:.2f} each.")
        else:
            print("You don't own any shares of this stock.")

    def display_portfolio(self):
        if not self.user_portfolio:
            print("You don't have any stocks in your portfolio.")
            return
        print("Your Portfolio:")
        for stock, info in self.user_portfolio.items():
            print(f"{stock}: {info['quantity']} shares, Total Cost: ${info['total_cost']:.2f}")

def main():
    market = StockMarket()
    while True:
        print("\nStock Market Simulator")
        print("1. Display Available Stocks")
        print("2. Buy Stocks")
        print("3. Sell Stocks")
        print("4. Display Portfolio")
        print("5. Exit")
        choice = input("Enter your choice: ")
        if choice == "1":
            market.display_stocks()
        elif choice == "2":
            market.buy_stock()
        elif choice == "3":
            market.sell_stock()
        elif choice == "4":
            market.display_portfolio()
        elif choice == "5":
            break
        else:
            print("Invalid choice. Please try again.")

if __name__ == "__main__":
    main()
```

## Generated Output
```
Stock Market Simulator
1. Display Available Stocks
2. Buy Stocks
3. Sell Stocks
4. Display Portfolio
5. Exit
Enter your choice: Invalid choice. Please try again.

Stock Market Simulator
1. Display Available Stocks
2. Buy Stocks
3. Sell Stocks
4. Display Portfolio
5. Exit
Enter your choice: 
Traceback (most recent call last):
  File "/tmp/tmpw5nbwcy1.py", line 93, in <module>
    main()
  File "/tmp/tmpw5nbwcy1.py", line 78, in main
    choice = input("Enter your choice: ")
EOFError: EOF when reading a line
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
