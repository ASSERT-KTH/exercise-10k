## Exercise
Write a function that plays a game of Hangman against the user.

## Reference Solution
```python
import random

def hangman():
    # List of words to choose from
    words = ['apple', 'banana', 'cherry', 'date', 'elderberry']

    # Choose a random word
    word_to_guess = random.choice(words)

    # Initialize the guessed word with underscores
    guessed_word = ['_'] * len(word_to_guess)

    # Initialize the number of lives
    lives = 6

    print("Let's play Hangman!")
    print(display_hangman(lives))

    while '_' in guessed_word and lives > 0:
        print(' '.join(guessed_word))
        guess = input("Guess a letter: ").lower()

        # Check if the guess is a single letter
        if len(guess) != 1:
            print("Please guess a single letter.")
            continue

        # Check if the guess is in the word
        if guess in word_to_guess:
            for i, letter in enumerate(word_to_guess):
                if letter == guess:
                    guessed_word[i] = guess
        else:
            lives -= 1
            print(f"Incorrect guess. You have {lives} lives left.")
            print(display_hangman(lives))

    if '_' not in guessed_word:
        print(' '.join(guessed_word))
        print("Congratulations, you won!")
    else:
        print(f"Game over. The word was {word_to_guess}.")

def display_hangman(lives):
    stages = [  # final state: head, torso, both arms, and both legs
                """
                   --------
                   |      |
                   |      O
                   |     \\|/
                   |      |
                   |     / \\
                   -
                """,
                # head, torso, both arms, and one leg
                """
                   --------
                   |      |
                   |      O
                   |     \\|/
                   |      |
                   |     / 
                   -
                """,
                # head, torso, and both arms
                """
                   --------
                   |      |
                   |      O
                   |     \\|/
                   |      |
                   |      
                   -
                """,
                # head, torso, and one arm
                """
                   --------
                   |      |
                   |      O
                   |     \\|
                   |      |
                   |     
                   -
                """,
                # head and torso
                """
                   --------
                   |      |
                   |      O
                   |      |
                   |      |
                   |     
                   -
                """,
                # head
                """
                   --------
                   |      |
                   |      O
                   |    
                   |      
                   |     
                   -
                """,
                # initial empty state
                """
                   --------
                   |      |
                   |      
                   |    
                   |      
                   |     
                   -
                """
    ]
    return stages[lives]

if __name__ == "__main__":
    hangman()
```

## Generated Output
```
Let's play Hangman!

                   --------
                   |      |
                   |      
                   |    
                   |      
                   |     
                   -
                
_ _ _ _
Guess a letter: Please guess a single letter.
_ _ _ _
Guess a letter: 
Traceback (most recent call last):
  File "/tmp/tmpg1qhqqgd.py", line 119, in <module>
    hangman()
  File "/tmp/tmpg1qhqqgd.py", line 21, in hangman
    guess = input("Guess a letter: ").lower()
EOFError: EOF when reading a line
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
