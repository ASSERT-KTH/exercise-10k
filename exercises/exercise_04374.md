## Exercise
Write a program that validates a dictionary against a set of rules and returns True if it is valid, False otherwise.

## Reference Solution
```python
def validate_dict(data, rules):
    """
    Validates a dictionary against a set of rules.

    Args:
        data (dict): The dictionary to validate.
        rules (list): A list of tuples containing the key, data type, and optional value restrictions.

    Returns:
        bool: True if the dictionary is valid, False otherwise.
    """

    # Iterate over each rule
    for rule in rules:
        key, data_type, *restrictions = rule

        # Check if the key exists in the dictionary
        if key not in data:
            return False

        # Check if the value matches the required data type
        if not isinstance(data[key], data_type):
            return False

        # Check if the value matches any additional restrictions
        for restriction in restrictions:
            if not restriction(data[key]):
                return False

    # If all rules pass, the dictionary is valid
    return True


# Example usage
if __name__ == "__main__":
    data = {
        "name": "John Doe",
        "age": 30,
        "email": "john@example.com"
    }

    rules = [
        ("name", str),
        ("age", int, lambda x: x > 18),
        ("email", str, lambda x: "@" in x)
    ]

    print(validate_dict(data, rules))  # Output: True

    invalid_data = {
        "name": "John Doe",
        "age": "thirty",
        "email": "john.example.com"
    }

    print(validate_dict(invalid_data, rules))  # Output: False
```

## Generated Output
```
True
False
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
