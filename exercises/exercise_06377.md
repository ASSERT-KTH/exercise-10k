## Exercise
Write a program that takes two arrays as input and returns a new array containing the elements that are common to both arrays

## Reference Solution
```python
def common_elements(array1, array2):
    """
    This function takes two arrays as input and returns a new array containing the elements that are common to both arrays.

    Parameters:
    array1 (list): The first input array.
    array2 (list): The second input array.

    Returns:
    list: A new array containing the elements that are common to both arrays.
    """
    # Convert the input arrays to sets to remove duplicates and improve lookup efficiency
    set1 = set(array1)
    set2 = set(array2)

    # Use the set intersection operation to find the elements common to both arrays
    common = set1.intersection(set2)

    # Convert the resulting set back to a list and return it
    return list(common)

# Example usage:
array1 = [1, 2, 3, 4, 5]
array2 = [4, 5, 6, 7, 8]

common = common_elements(array1, array2)
print(common)  # Output: [4, 5]
```

```python
def common_elements_ordered(array1, array2):
    """
    This function takes two arrays as input and returns a new array containing the elements that are common to both arrays, in the order they appeared in the first array.

    Parameters:
    array1 (list): The first input array.
    array2 (list): The second input array.

    Returns:
    list: A new array containing the elements that are common to both arrays, in the order they appeared in the first array.
    """
    # Convert the second array to a set for efficient lookup
    set2 = set(array2)

    # Use a list comprehension to find the elements in the first array that are also in the second array
    common = [element for element in array1 if element in set2]

    # Return the resulting list
    return common

# Example usage:
array1 = [1, 2, 3, 4, 5]
array2 = [4, 5, 6, 7, 8]

common = common_elements_ordered(array1, array2)
print(common)  # Output: [4, 5]
```

## Generated Output
```
[4, 5]
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
