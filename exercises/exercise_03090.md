## Exercise
Create a higher-order function that sorts a list of elements based on a custom sorting key.

## Reference Solution
```python
def custom_sort_key(lst, key_func):
    """
    Sorts a list of elements based on a custom sorting key.

    Args:
        lst (list): The list of elements to be sorted.
        key_func (function): A function that takes one argument and returns one value. It is used to determine the sort order.

    Returns:
        list: A new list containing all items from the original list, sorted based on the custom sorting key.
    """

    # First, we check if the input is a list. If not, we raise a TypeError.
    if not isinstance(lst, list):
        raise TypeError("Input must be a list.")

    # Then, we check if the key function is callable. If not, we raise a TypeError.
    if not callable(key_func):
        raise TypeError("Key function must be callable.")

    # We use the built-in sorted function in Python, which returns a new sorted list from the elements of any sequence.
    # The sorted function takes a key function as an argument, which it uses to determine the sort order.
    # We pass the key function to the sorted function using the key argument.
    sorted_list = sorted(lst, key=key_func)

    # Finally, we return the sorted list.
    return sorted_list


# Example usage:
# We define a list of strings.
strings = ["hello", "world", "abc", "xyz"]

# We define a function that returns the length of a string.
def string_length(s):
    return len(s)

# We sort the list of strings based on their lengths.
sorted_strings = custom_sort_key(strings, string_length)

# We print the sorted list.
print(sorted_strings)
```

## Generated Output
```
['abc', 'xyz', 'hello', 'world']
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
