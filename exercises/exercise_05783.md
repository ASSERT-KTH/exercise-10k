## Exercise
Create a function that simulates a game of Rock, Paper, Scissors between two players. The function should take in the choices of both players and return the winner.

## Reference Solution
```python
def rock_paper_scissors(player1_choice, player2_choice):
    """
    This function simulates a game of Rock, Paper, Scissors between two players.
    
    Args:
        player1_choice (str): The choice of the first player. It can be 'rock', 'paper', or 'scissors'.
        player2_choice (str): The choice of the second player. It can be 'rock', 'paper', or 'scissors'.
    
    Returns:
        str: The winner of the game. It can be 'player1' or 'player2'. If both players make the same choice, it returns 'tie'.
    """

    # First, we define the winning conditions for each choice
    # We use a dictionary where the keys are the choices and the values are lists of choices that the key choice beats
    winning_conditions = {
        'rock': ['scissors'],
        'paper': ['rock'],
        'scissors': ['paper']
    }

    # Then, we check if both players have made valid choices
    if player1_choice not in winning_conditions or player2_choice not in winning_conditions:
        raise ValueError("Invalid choice. Choices must be 'rock', 'paper', or 'scissors'.")

    # Next, we check if player1's choice beats player2's choice
    # If it does, then player1 is the winner
    if player2_choice in winning_conditions[player1_choice]:
        return 'player1'

    # Then, we check if player2's choice beats player1's choice
    # If it does, then player2 is the winner
    elif player1_choice in winning_conditions[player2_choice]:
        return 'player2'

    # If neither player's choice beats the other's, then the game is a tie
    else:
        return 'tie'

# Example usage:
print(rock_paper_scissors('rock', 'scissors'))  # Output: 'player1'
print(rock_paper_scissors('paper', 'rock'))  # Output: 'player1'
print(rock_paper_scissors('scissors', 'paper'))  # Output: 'player1'
print(rock_paper_scissors('rock', 'rock'))  # Output: 'tie'
```

## Generated Output
```
player1
player1
player1
tie
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
