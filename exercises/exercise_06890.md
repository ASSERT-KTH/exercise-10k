## Exercise
Create a program that performs basic arithmetic operations such as addition, subtraction, multiplication, and division based on user input. The program should ask the user to choose an operation and then input two numbers. It should then perform the chosen operation on the two numbers and display the result.

## Reference Solution
```python
def get_user_input():
    """Gets user input for operation and numbers."""
    print("Choose an operation:")
    print("1. Addition")
    print("2. Subtraction")
    print("3. Multiplication")
    print("4. Division")

    while True:
        choice = input("Enter choice (1/2/3/4): ")
        if choice in ['1', '2', '3', '4']:
            break
        else:
            print("Invalid input. Please enter a number between 1 and 4.")

    while True:
        try:
            num1 = float(input("Enter first number: "))
            num2 = float(input("Enter second number: "))
            return choice, num1, num2
        except ValueError:
            print("Invalid input. Please enter a number.")

def perform_operation(choice, num1, num2):
    """Performs the chosen operation on the two numbers."""
    if choice == '1':
        return num1 + num2
    elif choice == '2':
        return num1 - num2
    elif choice == '3':
        return num1 * num2
    elif choice == '4':
        if num2 != 0:
            return num1 / num2
        else:
            raise ZeroDivisionError("Cannot divide by zero.")

def main():
    """Main function."""
    choice, num1, num2 = get_user_input()
    try:
        result = perform_operation(choice, num1, num2)
        print(f"Result: {result}")
    except ZeroDivisionError as e:
        print(str(e))

if __name__ == "__main__":
    main()
```

## Generated Output
```
Choose an operation:
1. Addition
2. Subtraction
3. Multiplication
4. Division
Enter choice (1/2/3/4): Invalid input. Please enter a number between 1 and 4.
Enter choice (1/2/3/4): Invalid input. Please enter a number between 1 and 4.
Enter choice (1/2/3/4): Invalid input. Please enter a number between 1 and 4.
Enter choice (1/2/3/4): Invalid input. Please enter a number between 1 and 4.
Enter choice (1/2/3/4): 
Traceback (most recent call last):
  File "/tmp/tmp5oawpl8b.py", line 48, in <module>
    main()
  File "/tmp/tmp5oawpl8b.py", line 40, in main
    choice, num1, num2 = get_user_input()
  File "/tmp/tmp5oawpl8b.py", line 10, in get_user_input
    choice = input("Enter choice (1/2/3/4): ")
EOFError: EOF when reading a line
```

generated by python 3.10.13

solution generated by RedHatAI/Llama-3.3-70B-Instruct-FP8-dynamic
